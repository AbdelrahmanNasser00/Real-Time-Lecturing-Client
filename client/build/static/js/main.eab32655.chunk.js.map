{"version":3,"sources":["shared/components/AuthBox.js","shared/components/CustomPrimaryButton.js","shared/components/RedirectInfo.js","authPages/LoginPage/LoginPageFooter.js","authPages/LoginPage/LoginPageHeader.js","shared/components/InputWithLabel.js","authPages/LoginPage/LoginPageInputs.js","shared/utils/validators.js","shared/utils/auth.js","api.js","store/actions/alertActions.js","store/actions/authActions.js","authPages/LoginPage/LoginPage.js","authPages/RegisterPage/RegisterPageInputs.js","authPages/RegisterPage/RegisterPageFooter.js","authPages/RegisterPage/VerificationPage.js","authPages/RegisterPage/RegisterPage.js","shared/components/Spinner.js","store/actions/subjectsActions.js","store/reducers/authReducer.js","store/reducers/alertReducer.js","store/actions/roomActions.js","store/reducers/roomReducer.js","store/reducers/subjectsReducer.js","store/store.js","realtimeCommunication/webRTCHandler.js","realtimeCommunication/roomHandler.js","realtimeCommunication/socketConnection.js","shared/utils/useUserDetails.js","Dashboard/SubjectsSideBar/subjectsList/SubjectsListItem.js","Dashboard/SubjectsSideBar/subjectsList/SubjectsList.js","shared/components/Title.js","Dashboard/SubjectsSideBar/SubjectsSideBar.js","Dashboard/AppBar/DropdownMenu.js","Dashboard/AppBar/AppBar.js","shared/components/Wrapper.js","Dashboard/Dashboard.js","shared/components/AlertNotification.js","Dashboard/SideBar/MainPageButton.js","Dashboard/SideBar/CreateRoomButton.js","shared/components/Avatar.js","Dashboard/SideBar/ActiveRoomButton.js","Dashboard/SideBar/SideBar.js","Dashboard/Room/ResizeRoomButton.js","Dashboard/Room/Video.js","Dashboard/Room/VideosContainer.js","Dashboard/Room/RoomButtons/CameraButton.js","Dashboard/Room/RoomButtons/MicButton.js","Dashboard/Room/RoomButtons/CloseRoomButton.js","Dashboard/Room/RoomButtons/ScreenShareButton.js","Dashboard/Room/RoomButtons/RoomButtons.js","Dashboard/Room/Room.js","Dashboard/Subject.js","App.js","serviceWorker.js","index.js"],"names":["BoxWrapper","styled","width","height","display","alignItems","justifyContent","background","AuthBox","props","_jsx","children","Box","sx","bgcolor","borderRadius","boxShadow","flexDirection","padding","CustomPrimaryButton","_ref","label","additionalStyles","disabled","onClick","Button","variant","color","textTransform","fontSize","fontWeight","style","RedirectText","cursor","RedirectInfo","text","redirectText","redirectHandler","_jsxs","Typography","LoginPageFooter","handleLogin","isFormValid","history","useHistory","_Fragment","Tooltip","title","marginTop","handlePushToRegisterPage","push","LoginPageHeader","Wrapper","Label","Input","flexGrow","border","margin","InputWithLabel","value","setValue","type","placeholder","onChange","event","target","LoginPageInputs","mail","setMail","password","setPassword","validatePassword","length","validateMail","test","validateUsername","username","logout","localStorage","clear","window","location","pathname","apiClient","axios","create","baseURL","timeout","interceptors","request","use","config","userDetails","getItem","token","JSON","parse","headers","Authorization","concat","err","Promise","reject","alertActions","OPEN_ALERT_MESSAGE","CLOSE_ALERT_MESSAGE","getActions","dispatch","openAlertMessage","content","closeAlertMessage","authActions","login","register","verify","setUserDetails","async","response","post","data","exception","error","api","console","log","_response$exception","_response$exception$r","setItem","stringify","_response$exception2","_response$exception2$","setUnverifiedUserDetails","_response$exception3","_response$exception3$","connect","useState","setIsFormValid","useEffect","isMailValid","isPasswordValid","validateLoginForm","document","RegisterPageInputs","setUsername","RegisterPageFooter","handleRegister","showValidationCode","setShowValidationCode","handleClickRigisterButton","handlePushToLoginPage","VerificationPage","handleVerify","verificationCode","setVerificationCode","otpInputStyle","textAlign","className","OtpInput","numInputs","renderSeparator","renderInput","index","e","preventDefault","fill","viewBox","d","_ref2","validateRegisterForm","userDetailsString","SpinnerWrapper","SpinnerIcon","borderTop","animation","from","transform","to","Spinner","subjectsActions","initState","reducer","state","arguments","undefined","action","showAlertMessage","alertMessageContent","roomActions","setOpenRoom","isUserRoomCreator","isUserInRoom","setScreenSharingStream","stream","setRoomDetails","roomDetails","setLocalStream","localStream","setRemoteStreams","remoteStreams","isScreenSharingActive","screenSharingStream","activeRooms","subjects","rootReducer","combineReducers","auth","authReducer","alert","alertReducer","room","roomReducer","subjectsReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","getLocalStreamPreview","callbackFunc","navigator","mediaDevices","getUserMedia","video","audio","then","catch","peers","prepareNewPeerConnection","connUserSocketId","isInitiator","getState","Peer","initiator","warn","iceServers","urls","on","socketConnection","signal","remoteStream","addNewRemoteStream","newRemoteStreams","switchOutgoingTracks","socket_id","streams","getTracks","index2","kind","replaceTrack","updateActiveRooms","rooms","forEach","creatorUsername","setActiveRooms","leaveRoom","roomId","track","stop","Object","entries","mappedObject","destroy","socket","connectWithSocketServer","jwtToken","io","id","roomHandler","webRTCHandler","emit","filter","createNewRoom","joinRoom","signalPeerData","useUserDetails","setIsLoading","parsedUserDetails","SubjectsListItem","name","handleSubjectClick","position","marginLeft","align","MainContainer","map","subject","Title","backgroundColor","SubjectsSideBar","SubjectsList","BasicMenu","anchorEl","setAnchorEl","React","open","Boolean","IconButton","currentTarget","MoreVertIcon","Menu","onClose","handleMenuClose","MenuListProps","MenuItem","right","top","borderBottom","AppBar","DropdownMenu","isLoading","SubjectSideBar","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","severity","MainPageButton","minWidth","GroupsIcon","CreateRoomButton","createNewRoomHandler","successCallBackFunction","AddIcon","AvatarPreview","Avatar","large","substring","ActiveRoomButton","amountOfParticipants","activeRoomButtonDisabled","roomTitle","handleJoinActiveRoom","participants","bottom","ResizeRoomButton","isRoomMinimized","handleRoomResize","OpenInFullIcon","CloseFullscreenIcon","VideoEl","Video","isLocalStream","videoRef","useRef","current","srcObject","onloadedmetadata","play","ref","autoPlay","muted","flexWrap","CameraButton","cameraEnabled","setCameraEnabled","handleToggleCamera","getVideoTracks","enabled","VideocamIcon","VideocamOffIcon","MicButton","micEnabled","setMicEnabled","handleToggleMic","getAudioTracks","MicIcon","MicOffIcon","CloseRoomButton","handleLeaveRoom","CloseIcon","constraints","ScreenShareButton","t","getDisplayMedia","StopScreenShareIcon","ScreenShareIcon","borderTopLeftRadius","borderTopRightRadius","isUserJoinedWithOnlyAudio","fullScreenRoomStyle","minimizedRoomStyle","Room","setIsRoomMinimized","VideosContainer","RoomButtons","roomResizeHandler","SideBar","App","Router","Switch","Route","exact","path","LoginPage","RegisterPage","Dashboard","Subject","Redirect","AlertNotification","hostname","match","ReactDOM","render","Provider","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.eab32655.chunk.js","sourcesContent":["import React from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst BoxWrapper = styled(\"div\")({\r\n  width: \"100%\",\r\n  height: \"100vh\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  background: \"#5865F2\",\r\n});\r\n\r\nconst AuthBox = (props) => {\r\n  return (\r\n    <BoxWrapper>\r\n      <Box\r\n        sx={{\r\n          width: 700,\r\n          height: 400,\r\n          bgcolor: \"#36393f\",\r\n          borderRadius: \"5px\",\r\n          boxShadow: \"0 2px 10px 0 rgb(0 0 0 / 20%)\",\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          padding: \"25px\",\r\n        }}\r\n      >\r\n        {props.children}\r\n      </Box>\r\n    </BoxWrapper>\r\n  );\r\n};\r\n\r\nexport default AuthBox;\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\n\r\nconst CustomPrimaryButton = ({\r\n  label,\r\n  additionalStyles,\r\n  disabled,\r\n  onClick,\r\n}) => {\r\n  return (\r\n    <Button\r\n      variant=\"contained\"\r\n      sx={{\r\n        bgcolor: \"#5865F2\",\r\n        color: \"white\",\r\n        textTransform: \"none\",\r\n        fontSize: \"16px\",\r\n        fontWeight: 500,\r\n        width: \"100%\",\r\n        height: \"40px\",\r\n      }}\r\n      style={additionalStyles ? additionalStyles : {}}\r\n      disabled={disabled}\r\n      onClick={onClick}\r\n    >\r\n      {label}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default CustomPrimaryButton;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst RedirectText = styled(\"span\")({\r\n  color: \"#00AFF4\",\r\n  fontWeight: 500,\r\n  cursor: \"pointer\",\r\n});\r\n\r\nconst RedirectInfo = ({\r\n  text,\r\n  redirectText,\r\n  additionalStyles,\r\n  redirectHandler,\r\n}) => {\r\n  return (\r\n    <Typography\r\n      sx={{ color: \"#72767d\" }}\r\n      style={additionalStyles ? additionalStyles : {}}\r\n      variant=\"subtitle2\"\r\n    >\r\n      {text}\r\n      <RedirectText onClick={redirectHandler}>{redirectText}</RedirectText>\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default RedirectInfo;\r\n","import React from \"react\";\r\nimport CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\r\nimport RedirectInfo from \"../../shared/components/RedirectInfo\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Tooltip } from \"@mui/material\";\r\n\r\nconst getFormNotValidMessage = () => {\r\n  return \"Enter correct e-mail address and password should contains between 6 and 12 characters\";\r\n};\r\n\r\nconst getFormValidMessage = () => {\r\n  return \"Press to log in!\";\r\n};\r\n\r\nconst LoginPageFooter = ({ handleLogin, isFormValid }) => {\r\n  const history = useHistory();\r\n\r\n  const handlePushToRegisterPage = () => {\r\n    history.push(\"/register\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip\r\n        title={!isFormValid ? getFormNotValidMessage() : getFormValidMessage()}\r\n      >\r\n        <div>\r\n          <CustomPrimaryButton\r\n            label=\"Log in\"\r\n            additionalStyles={{ marginTop: \"30px\" }}\r\n            disabled={!isFormValid}\r\n            onClick={handleLogin}\r\n          />\r\n        </div>\r\n      </Tooltip>\r\n      <RedirectInfo\r\n        text=\"Need an account? \"\r\n        redirectText=\"Create an account\"\r\n        additionalStyles={{ marginTop: \"5px\" }}\r\n        redirectHandler={handlePushToRegisterPage}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPageFooter;\r\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst LoginPageHeader = () => {\r\n  return (\r\n    <>\r\n      <Typography variant=\"h5\" sx={{ color: \"white\" }}>\r\n        Welcome Back!\r\n      </Typography>\r\n      <Typography sx={{ color: \"#b9bbbe\" }}>\r\n        We are happy that you are with us!\r\n      </Typography>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPageHeader;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst Wrapper = styled(\"div\")({\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  flexDirection: \"column\",\r\n  width: \"100%\",\r\n});\r\n\r\nconst Label = styled(\"p\")({\r\n  color: \"#b9bbbe\",\r\n  textTransform: \"uppercase\",\r\n  fontWeight: \"600\",\r\n  fontSize: \"16px\",\r\n});\r\n\r\nconst Input = styled(\"input\")({\r\n  flexGrow: 1,\r\n  height: \"40px\",\r\n  border: \"1px solid black\",\r\n  borderRadius: \"5px\",\r\n  color: \"#dcddde\",\r\n  background: \"#35393f\",\r\n  margin: 0,\r\n  fontSize: \"16px\",\r\n  padding: \"0 5px\",\r\n});\r\n\r\nconst InputWithLabel = (props) => {\r\n  const { value, setValue, label, type, placeholder } = props;\r\n\r\n  const handleValueChange = (event) => {\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Label>{label}</Label>\r\n      <Input\r\n        value={value}\r\n        onChange={handleValueChange}\r\n        type={type}\r\n        placeholder={placeholder}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default InputWithLabel;\r\n","import React from \"react\";\r\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\r\n\r\nconst LoginPageInputs = ({ mail, setMail, password, setPassword }) => {\r\n  return (\r\n    <>\r\n      <InputWithLabel\r\n        value={mail}\r\n        setValue={setMail}\r\n        label=\"E-mail\"\r\n        type=\"text\"\r\n        placeholder=\"Enter e-mail address\"\r\n      />\r\n      <InputWithLabel\r\n        value={password}\r\n        setValue={setPassword}\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        placeholder=\"Enter password\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginPageInputs;\r\n","export const validateLoginForm = ({ mail, password }) => {\r\n  const isMailValid = validateMail(mail);\r\n  const isPasswordValid = validatePassword(password);\r\n\r\n  return isMailValid && isPasswordValid;\r\n};\r\n\r\nexport const validateRegisterForm = ({ mail, password, username }) => {\r\n  return (\r\n    validateMail(mail) &&\r\n    validatePassword(password) &&\r\n    validateUsername(username)\r\n  );\r\n};\r\n\r\nconst validatePassword = (password) => {\r\n  return password.length > 5 && password.length < 13;\r\n};\r\n\r\nexport const validateMail = (mail) => {\r\n  const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\r\n  return emailPattern.test(mail);\r\n};\r\n\r\nconst validateUsername = (username) => {\r\n  return username.length > 2 && username.length < 13;\r\n};\r\n","export const logout = () => {\r\n   localStorage.clear();\r\n  window.location.pathname = \"/login\";\r\n};\r\n","import axios from \"axios\";\r\nimport { logout } from \"./shared/utils/auth\";\r\n\r\nconst apiClient = axios.create({\r\n  baseURL: \"http://localhost:8080/api\",\r\n  timeout: 5000,\r\n});\r\n\r\napiClient.interceptors.request.use(\r\n  (config) => {\r\n    const userDetails = localStorage.getItem(\"user\");\r\n\r\n    if (userDetails) {\r\n      const token = JSON.parse(userDetails).token;\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n\r\n    return config;\r\n  },\r\n  (err) => {\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\n// public routes\r\n\r\nexport const login = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/auth/login\", data);\r\n  } catch (exception) {\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nexport const register = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/auth/register\", data);\r\n  } catch (exception) {\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nexport const verify = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/auth/verify\", data);\r\n  } catch (exception) {\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\n// secure routes\r\nexport const sendFriendInvitation = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/friend-invitation/invite\", data);\r\n  } catch (exception) {\r\n    checkResponseCode(exception);\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nexport const acceptFriendInvitation = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/friend-invitation/accept\", data);\r\n  } catch (exception) {\r\n    checkResponseCode(exception);\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nexport const rejectFriendInvitation = async (data) => {\r\n  try {\r\n    return await apiClient.post(\"/friend-invitation/reject\", data);\r\n  } catch (exception) {\r\n    checkResponseCode(exception);\r\n    return {\r\n      error: true,\r\n      exception,\r\n    };\r\n  }\r\n};\r\n\r\nconst checkResponseCode = (exception) => {\r\n  const responseCode = exception?.response?.status;\r\n\r\n  if (responseCode) {\r\n    (responseCode === 401 || responseCode === 403) && logout();\r\n  }\r\n};\r\n","const alertActions = {\r\n  OPEN_ALERT_MESSAGE: \"ALERT.OPEN_ALERT_MESSAGE\",\r\n  CLOSE_ALERT_MESSAGE: \"ALERT.CLOSE_ALERT_MESSAGE\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    openAlertMessage: (content) => dispatch(openAlertMessage(content)),\r\n    closeAlertMessage: () => dispatch(closeAlertMessage()),\r\n  };\r\n};\r\n\r\nexport const openAlertMessage = (content) => {\r\n  return {\r\n    type: alertActions.OPEN_ALERT_MESSAGE,\r\n    content,\r\n  };\r\n};\r\n\r\nexport const closeAlertMessage = () => {\r\n  return {\r\n    type: alertActions.CLOSE_ALERT_MESSAGE,\r\n  };\r\n};\r\n\r\nexport default alertActions;\r\n","import * as api from \"../../api\";\r\nimport { openAlertMessage } from \"./alertActions\";\r\n\r\nexport const authActions = {\r\n  SET_USER_DETAILS: \"AUTH.SET_USER_DETAILS\",\r\n  SET_UNVERIFIED_USER_DETAILS: \"AUTH.SET_UNVERIFIED_USER_DETAILS\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    login: (userDetails, history) => dispatch(login(userDetails, history)),\r\n    register: (userDetails) => dispatch(register(userDetails)),\r\n    verify: (userDetails, history) => dispatch(verify(userDetails, history)),\r\n    setUserDetails: (userDetails) => dispatch(setUserDetails(userDetails)),\r\n  };\r\n};\r\n\r\nconst setUserDetails = (userDetails) => {\r\n  return {\r\n    type: authActions.SET_USER_DETAILS,\r\n    userDetails,\r\n  };\r\n};\r\n\r\nconst setUnverifiedUserDetails = (userDetails) => {\r\n  return {\r\n    type: authActions.SET_UNVERIFIED_USER_DETAILS,\r\n    userDetails,\r\n  };\r\n};\r\nconst login = (userDetails, history) => {\r\n  return async (dispatch) => {\r\n    const response = await api.login(userDetails);\r\n    console.log(response);\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      const { userDetails } = response?.data;\r\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\r\n\r\n      dispatch(setUserDetails(userDetails));\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n};\r\n\r\nconst register = (userDetails) => {\r\n  return async (dispatch) => {\r\n    const response = await api.register(userDetails);\r\n    console.log(response);\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      const { userDetails } = response?.data;\r\n      localStorage.setItem(\"unverifiedUser\", JSON.stringify(userDetails));\r\n      console.log(\"register actoin\", localStorage.getItem(\"unverifiedUser\"));\r\n      dispatch(setUnverifiedUserDetails(userDetails));\r\n    }\r\n  };\r\n};\r\n\r\nconst verify = (userDetails, history) => {\r\n  return async (dispatch) => {\r\n    const response = await api.verify(userDetails);\r\n    console.log(response);\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      const { userDetails } = response?.data;\r\n\r\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\r\n      console.log(\"verified\", userDetails);\r\n      dispatch(setUserDetails(userDetails));\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport AuthBox from \"../../shared/components/AuthBox\";\r\nimport LoginPageFooter from \"./LoginPageFooter\";\r\nimport LoginPageHeader from \"./LoginPageHeader\";\r\nimport LoginPageInputs from \"./LoginPageInputs\";\r\nimport { validateLoginForm } from \"../../shared/utils/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/authActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst LoginPage = ({ login }) => {\r\n  const history = useHistory();\r\n  const [mail, setMail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsFormValid(validateLoginForm({ mail, password }));\r\n    document.title = `Real Time Lecutring - log in`;\r\n  }, [mail, password]);\r\n\r\n  const handleLogin = () => {\r\n    const userDetails = {\r\n      mail,\r\n      password,\r\n    };\r\n\r\n    login(userDetails, history);\r\n  };\r\n\r\n  return (\r\n    <AuthBox>\r\n      <LoginPageHeader />\r\n      <LoginPageInputs\r\n        mail={mail}\r\n        setMail={setMail}\r\n        password={password}\r\n        setPassword={setPassword}\r\n      />\r\n      <LoginPageFooter isFormValid={isFormValid} handleLogin={handleLogin} />\r\n    </AuthBox>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(LoginPage);\r\n","import React from \"react\";\r\nimport InputWithLabel from \"../../shared/components/InputWithLabel\";\r\n\r\nconst RegisterPageInputs = (props) => {\r\n  const { mail, setMail, username, setUsername, password, setPassword } = props;\r\n\r\n  return (\r\n    <>\r\n      <InputWithLabel\r\n        value={mail}\r\n        setValue={setMail}\r\n        label=\"E-mail address\"\r\n        type=\"text\"\r\n        placeholder=\"Enter e-mail address\"\r\n      />\r\n      <InputWithLabel\r\n        value={username}\r\n        setValue={setUsername}\r\n        label=\"Username\"\r\n        type=\"text\"\r\n        placeholder=\"Enter a username\"\r\n      />\r\n      <InputWithLabel\r\n        value={password}\r\n        setValue={setPassword}\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        placeholder=\"Enter password\"\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPageInputs;\r\n","import CustomPrimaryButton from \"../../shared/components/CustomPrimaryButton\";\r\nimport RedirectInfo from \"../../shared/components/RedirectInfo\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Tooltip } from \"@mui/material\";\r\n\r\nconst getFormNotValidMessage = () => {\r\n  return \"Username should contains between 3 and 12 characters and password should contains between 6 and 12 character. Also correct e-mail address should provided\";\r\n};\r\n\r\nconst getFormValidMessage = () => {\r\n  return \"Press to register!\";\r\n};\r\n\r\nconst RegisterPageFooter = ({\r\n  handleRegister,\r\n  isFormValid,\r\n  showValidationCode,\r\n  setShowValidationCode,\r\n}) => {\r\n  const history = useHistory();\r\n\r\n  const handleClickRigisterButton = () => {\r\n    setShowValidationCode(!showValidationCode);\r\n\r\n    handleRegister();\r\n  };\r\n\r\n  const handlePushToLoginPage = () => {\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        {\" \"}\r\n        <Tooltip\r\n          title={\r\n            !isFormValid ? getFormNotValidMessage() : getFormValidMessage()\r\n          }\r\n        >\r\n          <div>\r\n            <CustomPrimaryButton\r\n              label=\"Register\"\r\n              additionalStyles={{ marginTop: \"30px\" }}\r\n              disabled={!isFormValid}\r\n              onClick={handleClickRigisterButton}\r\n            />\r\n          </div>\r\n        </Tooltip>\r\n        <RedirectInfo\r\n          text=\"\"\r\n          redirectText=\"Already have an account ?\"\r\n          additionalStyles={{ marginTop: \"5px\" }}\r\n          redirectHandler={handlePushToLoginPage}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RegisterPageFooter;\r\n","import React from \"react\";\nimport OtpInput from \"react-otp-input\";\nimport \"../../shared/UI/css/style.css\";\nconst VerificationPage = ({\n  handleVerify,\n  verificationCode,\n  setVerificationCode,\n}) => {\n  const otpInputStyle = {\n    width: \"40px\",\n    height: \"40px\",\n    fontSize: \"20px\",\n    margin: \"5px\",\n    border: \"2px solid\",\n    borderRadius: \"10px\",\n    textAlign: \"center\",\n    fontWeight: \"800\",\n  };\n  const handleClickVerificationButton = (e) => {\n    e.preventDefault();\n    handleVerify();\n  };\n\n  return (\n    <div className=\"card\">\n      <form className=\"form\">\n        <div className=\"Enter-ver-text\">\n          <p>Enter verification code</p>\n        </div>\n        <div className=\"otp-field\">\n          <OtpInput\n            value={verificationCode}\n            onChange={setVerificationCode}\n            numInputs={6}\n            renderSeparator={<span>-</span>}\n            renderInput={(props, index) => (\n              <input {...props} style={otpInputStyle} />\n            )}\n          />\n        </div>\n        <button className=\"submitBtn\" onClick={handleClickVerificationButton}>\n          Submit\n          <svg\n            fill=\"white\"\n            viewBox=\"0 0 448 512\"\n            height=\"1em\"\n            className=\"arrow\">\n            <path d=\"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z\"></path>\n          </svg>\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default VerificationPage;","import React, { useState, useEffect } from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\nimport AuthBox from \"../../shared/components/AuthBox\";\r\nimport RegisterPageInputs from \"./RegisterPageInputs\";\r\nimport RegisterPageFooter from \"./RegisterPageFooter\";\r\nimport { validateRegisterForm } from \"../../shared/utils/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/authActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport VerificationPage from \"./VerificationPage\";\r\n\r\nconst RegisterPage = ({ register, verify }) => {\r\n  const history = useHistory();\r\n\r\n  const [mail, setMail] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [verificationCode, setVerificationCode] = useState(\"\");\r\n  const [showValidationCode, setShowValidationCode] = useState(false);\r\n\r\n  const [isFormValid, setIsFormValid] = useState(false);\r\n\r\n  const handleRegister = () => {\r\n    console.log(\"handle register called\");\r\n    const userDetails = {\r\n      mail,\r\n      password,\r\n      username,\r\n    };\r\n\r\n    register(userDetails);\r\n  };\r\n\r\n  const handleVerify = async () => {\r\n    console.log(\"handle verify called\");\r\n\r\n    const userDetailsString = localStorage.getItem(\"unverifiedUser\");\r\n    const userDetails = JSON.parse(userDetailsString);\r\n    userDetails.verificationCode = verificationCode;\r\n    localStorage.setItem(\"unverifiedUser\", JSON.stringify(userDetails));\r\n\r\n    verify(userDetails, history);\r\n  };\r\n  useEffect(() => {\r\n    setIsFormValid(\r\n      validateRegisterForm({\r\n        mail,\r\n        username,\r\n        password,\r\n      })\r\n    );\r\n    document.title = `Real Time Lecutring - log in`;\r\n  }, [mail, username, password, setIsFormValid]);\r\n\r\n  return (\r\n    <>\r\n      {!showValidationCode && (\r\n        <AuthBox>\r\n          <>\r\n            <Typography variant=\"h5\" sx={{ color: \"white \" }}>\r\n              Create an account\r\n            </Typography>\r\n            <RegisterPageInputs\r\n              mail={mail}\r\n              setMail={setMail}\r\n              username={username}\r\n              setUsername={setUsername}\r\n              password={password}\r\n              setPassword={setPassword}\r\n            />\r\n            <RegisterPageFooter\r\n              handleRegister={handleRegister}\r\n              showValidationCode={showValidationCode}\r\n              setShowValidationCode={setShowValidationCode}\r\n              isFormValid={isFormValid}\r\n            />\r\n          </>\r\n        </AuthBox>\r\n      )}\r\n      {showValidationCode && (\r\n        <div className=\"container\">\r\n          <VerificationPage\r\n            handleVerify={handleVerify}\r\n            verificationCode={verificationCode}\r\n            setVerificationCode={setVerificationCode}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(RegisterPage);","import React from \"react\";\nimport { styled } from \"@mui/system\";\n\nconst SpinnerWrapper = styled(\"div\")({\n  display: \"flex\",\n  justifyContent: \"center\",\n  alignItems: \"center\",\n  width: \"100%\",\n  height: \"100vh\",\n});\n\nconst SpinnerIcon = styled(\"div\")({\n  border: \"4px solid rgba(0, 0, 0, 0.1)\",\n  borderTop: \"4px solid #fff\",\n  borderRadius: \"50%\",\n  width: \"50px\",\n  height: \"50px\",\n  animation: \"$spin 1s linear infinite\",\n  \"@keyframes spin\": {\n    from: {\n      transform: \"rotate(0deg)\",\n    },\n    to: {\n      transform: \"rotate(360deg)\",\n    },\n  },\n});\n\nconst Spinner = () => {\n  return (\n    <SpinnerWrapper>\n      <SpinnerIcon />\n    </SpinnerWrapper>\n  );\n};\n\nexport default Spinner;\n","export const subjectsActions = {\n  SET_SUBJECTS: \"SUBJECTS.SET_SUBJECTS\",\n};\n\nexport const setSubjects = (subjects) => {\n  return {\n    type: subjectsActions.SET_SUBJECTS,\n    subjects,\n  };\n};\n","import { authActions } from \"../actions/authActions\";\r\n\r\nconst initState = {\r\n  userDetails: null,\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case authActions.SET_USER_DETAILS:\r\n      return {\r\n        ...state,\r\n        userDetails: action.userDetails,\r\n      };\r\n    case authActions.SET_UNVERIFIED_USER_DETAILS:\r\n      return {\r\n        ...state,\r\n        userDetails: action.userDetails,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import alertActions from \"../actions/alertActions\";\r\n\r\nconst initState = {\r\n  showAlertMessage: false,\r\n  alertMessageContent: null,\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case alertActions.OPEN_ALERT_MESSAGE:\r\n      return {\r\n        ...state,\r\n        showAlertMessage: true,\r\n        alertMessageContent: action.content,\r\n      };\r\n    case alertActions.CLOSE_ALERT_MESSAGE:\r\n      return {\r\n        ...state,\r\n        showAlertMessage: false,\r\n        alertMessageContent: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","export const roomActions = {\r\n  OPEN_ROOM: \"ROOM.OPEN_ROOM\",\r\n  SET_ROOM_DETAILS: \"ROOM.SET_ROOM_DETAILS\",\r\n  SET_ACTIVE_ROOMS: \"ROOM.SET_ACTIVE_ROOMS\",\r\n  SET_LOCAL_STREAM: \"ROOM.SET_LOCAL_STREAM\",\r\n  SET_REMOTE_STREAMS: \"ROOM.SET_REMOTE_STREAMS\",\r\n  SET_AUDIO_ONLY: \"ROOM.SET_AUDIO_ONLY\",\r\n  SET_SCREEN_SHARE_STREAM: \"ROOM.SET_SCREEN_SHARE_STREAM\",\r\n  SET_IS_USER_JOINED_WITH_ONLY_AUDIO: \"ROOM.SET_IS_USER_JOINED_WITH_ONLY_AUDIO\",\r\n};\r\n\r\nexport const setOpenRoom = (\r\n  isUserRoomCreator = false,\r\n  isUserInRoom = false\r\n) => {\r\n  return {\r\n    type: roomActions.OPEN_ROOM,\r\n    isUserRoomCreator,\r\n    isUserInRoom,\r\n  };\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    setScreenSharingStream: (stream) => {\r\n      dispatch(setScreenSharingStream(stream));\r\n    },\r\n  };\r\n};\r\n\r\nexport const setRoomDetails = (roomDetails) => {\r\n  return {\r\n    type: roomActions.SET_ROOM_DETAILS,\r\n    roomDetails,\r\n  };\r\n};\r\n\r\nexport const setActiveRooms = (activeRooms) => {\r\n  return {\r\n    type: roomActions.SET_ACTIVE_ROOMS,\r\n    activeRooms,\r\n  };\r\n};\r\n\r\nexport const setLocalStream = (localStream) => {\r\n  return {\r\n    type: roomActions.SET_LOCAL_STREAM,\r\n    localStream,\r\n  };\r\n};\r\n\r\nexport const setRemoteStreams = (remoteStreams) => {\r\n  return {\r\n    type: roomActions.SET_REMOTE_STREAMS,\r\n    remoteStreams,\r\n  };\r\n};\r\n\r\nexport const setScreenSharingStream = (stream) => {\r\n  return {\r\n    type: roomActions.SET_SCREEN_SHARE_STREAM,\r\n    isScreenSharingActive: stream ? true : false,\r\n    screenSharingStream: stream || null,\r\n  };\r\n};\r\n","import { roomActions } from \"../actions/roomActions\";\r\n\r\nconst initState = {\r\n  isUserInRoom: false,\r\n  isUserRoomCreator: false,\r\n  roomDetails: null,\r\n  activeRooms: [],\r\n  localStream: null,\r\n  remoteStreams: [],\r\n  screenSharingStream: null,\r\n  isScreenSharingActive: false,\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case roomActions.OPEN_ROOM:\r\n      return {\r\n        ...state,\r\n        isUserInRoom: action.isUserInRoom,\r\n        isUserRoomCreator: action.isUserRoomCreator,\r\n      };\r\n    case roomActions.SET_ROOM_DETAILS:\r\n      return {\r\n        ...state,\r\n        roomDetails: action.roomDetails,\r\n      };\r\n    case roomActions.SET_ACTIVE_ROOMS:\r\n      return {\r\n        ...state,\r\n        activeRooms: action.activeRooms,\r\n      };\r\n    case roomActions.SET_LOCAL_STREAM:\r\n      return {\r\n        ...state,\r\n        localStream: action.localStream,\r\n      };\r\n\r\n    case roomActions.SET_REMOTE_STREAMS:\r\n      return {\r\n        ...state,\r\n        remoteStreams: action.remoteStreams,\r\n      };\r\n    case roomActions.SET_SCREEN_SHARE_STREAM:\r\n      return {\r\n        ...state,\r\n        screenSharingStream: action.screenSharingStream,\r\n        isScreenSharingActive: action.isScreenSharingActive,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { subjectsActions } from \"../actions/subjectsActions\";\nconst initState = {\n  subjects: [],\n};\n\nconst reducer = (state = initState, action) => {\n  switch (action.type) {\n    case subjectsActions.SET_SUBJECTS:\n      return {\n        ...state,\n        subjects: action.subjects,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { combineReducers, createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport authReducer from \"./reducers/authReducer\";\r\nimport alertReducer from \"./reducers/alertReducer\";\r\nimport roomReducer from \"./reducers/roomReducer\";\r\nimport subjectsReducer from \"./reducers/subjectsReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  alert: alertReducer,\r\n  room: roomReducer,\r\n  subjects: subjectsReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import store from \"../store/store\";\r\nimport { setLocalStream, setRemoteStreams } from \"../store/actions/roomActions\";\r\nimport Peer from \"simple-peer\";\r\nimport * as socketConnection from \"./socketConnection\";\r\n\r\nconst getConfiguration = () => {\r\n  const turnIceServers = null;\r\n\r\n  if (turnIceServers) {\r\n    // TODO use TURN server credentials\r\n  } else {\r\n    console.warn(\"Using only STUN server\");\r\n    return {\r\n      iceServers: [\r\n        {\r\n          urls: \"stun:stun.l.google.com:19302\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n};\r\n\r\nexport const getLocalStreamPreview = (callbackFunc) => {\r\n  const constraints = {\r\n    video: true,\r\n    audio: true,\r\n  };\r\n\r\n  navigator.mediaDevices\r\n    .getUserMedia(constraints)\r\n    .then((stream) => {\r\n      store.dispatch(setLocalStream(stream));\r\n      callbackFunc();\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      console.log(\"Cannot get an access to local stream\");\r\n    });\r\n};\r\n\r\nlet peers = {};\r\n\r\nexport const prepareNewPeerConnection = (connUserSocketId, isInitiator) => {\r\n  const localStream = store.getState().room.localStream;\r\n\r\n  if (isInitiator) {\r\n    console.log(\"preparing new peer connection as initiator\");\r\n  } else {\r\n    console.log(\"preparing new peer connection as not initiator\");\r\n  }\r\n\r\n  peers[connUserSocketId] = new Peer({\r\n    initiator: isInitiator,\r\n    config: getConfiguration(),\r\n    stream: localStream,\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"signal\", (data) => {\r\n    const signalData = {\r\n      signal: data,\r\n      connUserSocketId: connUserSocketId,\r\n    };\r\n\r\n    socketConnection.signalPeerData(signalData);\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"stream\", (remoteStream) => {\r\n    // TODO\r\n    // add new remote stream to our server store\r\n    console.log(\"remote stream came from other user\");\r\n    console.log(\"direct connection has been established\");\r\n    remoteStream.connUserSocketId = connUserSocketId;\r\n    addNewRemoteStream(remoteStream);\r\n  });\r\n};\r\n\r\nexport const handleSignalingData = (data) => {\r\n  const { connUserSocketId, signal } = data;\r\n\r\n  if (peers[connUserSocketId]) {\r\n    peers[connUserSocketId].signal(signal);\r\n  }\r\n};\r\n\r\nconst addNewRemoteStream = (remoteStream) => {\r\n  const remoteStreams = store.getState().room.remoteStreams;\r\n  const newRemoteStreams = [...remoteStreams, remoteStream];\r\n\r\n  store.dispatch(setRemoteStreams(newRemoteStreams));\r\n};\r\n\r\nexport const closeAllConnections = () => {\r\n  Object.entries(peers).forEach((mappedObject) => {\r\n    const connUserSocketId = mappedObject[0];\r\n    if (peers[connUserSocketId]) {\r\n      peers[connUserSocketId].destroy();\r\n      delete peers[connUserSocketId];\r\n    }\r\n  });\r\n};\r\n\r\nexport const handleParticipantLeftRoom = (data) => {\r\n  const { connUserSocketId } = data;\r\n\r\n  if (peers[connUserSocketId]) {\r\n    peers[connUserSocketId].destroy();\r\n    delete peers[connUserSocketId];\r\n  }\r\n\r\n  const remoteStreams = store.getState().room.remoteStreams;\r\n\r\n  const newRemoteStreams = remoteStreams.filter(\r\n    (remoteStream) => remoteStream.connUserSocketId !== connUserSocketId\r\n  );\r\n\r\n  store.dispatch(setRemoteStreams(newRemoteStreams));\r\n};\r\n\r\nexport const switchOutgoingTracks = (stream) => {\r\n  for (let socket_id in peers) {\r\n    for (let index in peers[socket_id].streams[0].getTracks()) {\r\n      for (let index2 in stream.getTracks()) {\r\n        if (\r\n          peers[socket_id].streams[0].getTracks()[index].kind ===\r\n          stream.getTracks()[index2].kind\r\n        ) {\r\n          peers[socket_id].replaceTrack(\r\n            peers[socket_id].streams[0].getTracks()[index],\r\n            stream.getTracks()[index2],\r\n            peers[socket_id].streams[0]\r\n          );\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n","import store from \"../store/store\";\r\nimport {\r\n  setOpenRoom,\r\n  setRoomDetails,\r\n  setActiveRooms,\r\n  setLocalStream,\r\n  setRemoteStreams,\r\n  setScreenSharingStream,\r\n} from \"../store/actions/roomActions\";\r\nimport * as socketConnection from \"./socketConnection\";\r\nimport * as webRTCHandler from \"./webRTCHandler\";\r\n\r\nexport const createNewRoom = () => {\r\n  const successCallBackFunction = () => {\r\n    store.dispatch(setOpenRoom(true, true));\r\n    socketConnection.createNewRoom();\r\n  };\r\n  webRTCHandler.getLocalStreamPreview(successCallBackFunction);\r\n};\r\n\r\nexport const newRoomCreated = (data) => {\r\n  const { roomDetails } = data;\r\n  store.dispatch(setRoomDetails(roomDetails));\r\n};\r\n\r\nexport const updateActiveRooms = (data) => {\r\n  const { activeRooms } = data;\r\n\r\n  // const friends = store.getState().friends.friends;\r\n  const rooms = [];\r\n\r\n  // const userId = store.getState().auth.userDetails?._id;\r\n\r\n  activeRooms.forEach((room) => {\r\n    rooms.push({ ...room, creatorUsername: \"..\" });\r\n\r\n    // const isRoomCreatedByMe = room.roomCreator.userId === userId;\r\n\r\n    // if (isRoomCreatedByMe) {\r\n    //   rooms.push({ ...room, creatorUsername: \"..\" });\r\n    // } else {\r\n    //   friends.forEach((f) => {\r\n    //     if (f.id === room.roomCreator.userId) {\r\n    //       rooms.push({ ...room, creatorUsername: f.username });\r\n    //     }\r\n    //   });\r\n    // }\r\n  });\r\n\r\n  store.dispatch(setActiveRooms(rooms));\r\n};\r\n\r\nexport const joinRoom = (roomId) => {\r\n  const successCallBackFunction = () => {\r\n    store.dispatch(setRoomDetails({ roomId }));\r\n    store.dispatch(setOpenRoom(false, true));\r\n    socketConnection.joinRoom({ roomId });\r\n  };\r\n  webRTCHandler.getLocalStreamPreview(successCallBackFunction);\r\n};\r\n\r\nexport const leaveRoom = () => {\r\n  const roomId = store.getState().room.roomDetails.roomId;\r\n\r\n  const localStream = store.getState().room.localStream;\r\n  if (localStream) {\r\n    localStream.getTracks().forEach((track) => track.stop());\r\n    store.dispatch(setLocalStream(null));\r\n  }\r\n\r\n  const screenSharingStream = store.getState().room.screenSharingStream;\r\n  if (screenSharingStream) {\r\n    screenSharingStream.getTracks().forEach((track) => track.stop());\r\n    store.dispatch(setScreenSharingStream(null));\r\n  }\r\n\r\n  store.dispatch(setRemoteStreams([]));\r\n  webRTCHandler.closeAllConnections();\r\n\r\n  socketConnection.leaveRoom({ roomId });\r\n  store.dispatch(setRoomDetails(null));\r\n  store.dispatch(setOpenRoom(false, false));\r\n};\r\n","import io from \"socket.io-client\";\r\nimport { setSubjects } from \"../store/actions/subjectsActions\";\r\nimport store from \"../store/store\";\r\nimport * as roomHandler from \"./roomHandler\";\r\nimport * as webRTCHandler from \"./webRTCHandler\";\r\n\r\nlet socket = null;\r\n\r\nexport const connectWithSocketServer = (userDetails) => {\r\n  const jwtToken = userDetails.token;\r\n  socket = io(\"http://localhost:8080\", {\r\n    auth: {\r\n      token: jwtToken,\r\n    },\r\n  });\r\n\r\n  socket.on(\"connect\", () => {\r\n    console.log(\"succesfully connected with socket.io server\");\r\n    console.log(socket.id);\r\n  });\r\n\r\n  socket.on(\"subjects-list\", (data) => {\r\n    console.log(\"subjects came\");\r\n    store.dispatch(setSubjects(data));\r\n  });\r\n\r\n  socket.on(\"create-room\", (data) => {\r\n    roomHandler.newRoomCreated(data);\r\n  });\r\n\r\n  socket.on(\"active-rooms\", (data) => {\r\n    roomHandler.updateActiveRooms(data);\r\n  });\r\n\r\n  socket.on(\"conn-prepare\", (data) => {\r\n    const { connUserSocketId } = data;\r\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, false);\r\n    socket.emit(\"initialze-connection\", { connUserSocketId: connUserSocketId });\r\n  });\r\n\r\n  socket.on(\"initialze-connection\", (data) => {\r\n    const { connUserSocketId } = data;\r\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, true);\r\n  });\r\n\r\n  socket.on(\"conn-signal\", (data) => {\r\n    webRTCHandler.handleSignalingData(data);\r\n  });\r\n\r\n  socket.on(\"room-participant-left\", (data) => {\r\n    console.log(\"user left room\");\r\n    webRTCHandler.handleParticipantLeftRoom(data);\r\n  });\r\n};\r\n\r\nexport const createNewRoom = () => {\r\n  socket.emit(\"create-room\");\r\n};\r\n\r\nexport const joinRoom = (data) => {\r\n  socket.emit(\"join-room\", data);\r\n};\r\n\r\nexport const leaveRoom = (data) => {\r\n  socket.emit(\"leave-room\", data);\r\n};\r\n\r\nexport const signalPeerData = (data) => {\r\n  socket.emit(\"conn-signal\", data);\r\n};\r\n","import { useEffect } from \"react\";\nimport { logout } from \"./auth\";\nimport { connectWithSocketServer } from \"../../realtimeCommunication/socketConnection\";\n\nconst useUserDetails = (setUserDetails, setIsLoading) => {\n  useEffect(() => {\n    const userDetails = localStorage.getItem(\"user\");\n    if (!userDetails) {\n      logout();\n    } else {\n      const parsedUserDetails = JSON.parse(userDetails);\n      setUserDetails(parsedUserDetails);\n      connectWithSocketServer(parsedUserDetails);\n      document.title = `Real Time Lecturing Dashboard \\n ${parsedUserDetails.username}`;\n      setIsLoading(false);\n    }\n  }, [setUserDetails, setIsLoading]);\n};\n\nexport default useUserDetails;\n","import React from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport { useHistory } from \"react-router-dom\";\n\nconst SubjectsListItem = ({ name }) => {\n  const history = useHistory();\n\n  const handleSubjectClick = () => {\n    console.log(\"subject clicked\");\n    history.push(\"/subject\");\n  };\n  return (\n    <Button\n      disabled={false}\n      onClick={handleSubjectClick}\n      style={{\n        width: \"100%\",\n        height: \"42px\",\n        marginTop: \"10px\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        textTransform: \"none\",\n        color: \"black\",\n        position: \"relative\",\n      }}\n    >\n      <Typography\n        style={{\n          marginLeft: \"7px\",\n          fontWeight: 700,\n          color: \"white\",\n        }}\n        variant=\"subtitle1\"\n        align=\"left\"\n      >\n        {name}\n      </Typography>\n    </Button>\n  );\n};\n\nexport default SubjectsListItem;\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport SubjectsListItem from \"./SubjectsListItem\";\nimport { connect } from \"react-redux\";\n\nconst MainContainer = styled(\"div\")({\n  flexGrow: 1,\n  width: \"100%\",\n});\n\nconst SubjectsList = ({ subjects }) => {\n  return (\n    <MainContainer>\n      {subjects.map((subject, index) => (\n        <SubjectsListItem key={index} name={subject.name} />\n      ))}\n    </MainContainer>\n  );\n};\n\nconst mapStoreStateToProps = ({ subjects }) => {\n  return {\n    ...subjects,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(SubjectsList);\n","import React from \"react\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nconst Title = ({ title }) => {\r\n  return (\r\n    <Typography\r\n      sx={{\r\n        textTransform: \"uppercase\",\r\n        color: \"#8e9297\",\r\n        fontSize: \"25px\",\r\n        marginTop: \"10px\",\r\n      }}\r\n    >\r\n      {title}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nexport default Title;\r\n","import React from \"react\";\nimport { styled } from \"@mui/system\";\nimport SubjectsList from \"./subjectsList/SubjectsList\";\nimport Title from \"../../shared/components/Title\";\nconst MainContainer = styled(\"div\")({\n  width: \"224px\",\n  height: \"100%\",\n  display: \"flex\",\n  flexDirection: \"column\",\n  alignItems: \"center\",\n  backgroundColor: \"#2F3136\",\n});\n\nconst SubjectsSideBar = () => {\n  return (\n    <MainContainer>\n      <Title title=\"Your Subjects\" />\n      <SubjectsList />\n    </MainContainer>\n  );\n};\n\nexport default SubjectsSideBar;\n","import React from \"react\";\r\nimport Menu from \"@mui/material/Menu\";\r\nimport MenuItem from \"@mui/material/MenuItem\";\r\nimport { IconButton } from \"@mui/material\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport { logout } from \"../../shared/utils/auth\";\r\n\r\nexport default function BasicMenu() {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton onClick={handleMenuOpen} style={{ color: \"white\" }}>\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"basic-menu\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleMenuClose}\r\n        MenuListProps={{\r\n          \"aria-labelledby\": \"basic-button\",\r\n        }}\r\n      >\r\n        <MenuItem onClick={logout}>Logout</MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport DropdownMenu from \"./DropdownMenu\";\r\n// import ChosenOptionLabel from \"./ChosenOptionLabel\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  position: \"absolute\",\r\n  right: \"0\",\r\n  top: \"0\",\r\n  height: \"48px\",\r\n  borderBottom: \"1px solid black\",\r\n  backgroundColor: \"#36393f\",\r\n  width: \"calc(100% - 326px)\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"space-between\",\r\n  padding: \"0 15px\",\r\n});\r\n\r\nconst AppBar = () => {\r\n  return (\r\n    <MainContainer>\r\n      {/* <ChosenOptionLabel /> */}\r\n      <DropdownMenu />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default AppBar;\r\n","import { styled } from \"@mui/system\";\n\nconst Wrapper = styled(\"div\")({\n  width: \"100%\",\n  height: \"100vh\",\n  display: \"flex\",\n  backgroundColor: \"#36393f\",\n});\n\nexport default Wrapper;\n","import React, { useState } from \"react\";\r\nimport Spinner from \"../shared/components/Spinner\";\r\nimport useUserDetails from \"../shared/utils/useUserDetails\";\r\nimport SubjectSideBar from \"./SubjectsSideBar/SubjectsSideBar\";\r\nimport AppBar from \"./AppBar/AppBar\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../store/actions/authActions\";\r\nimport Wrapper from \"../shared/components/Wrapper\";\r\n\r\nconst Dashboard = ({ setUserDetails }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useUserDetails(setUserDetails, setIsLoading);\r\n\r\n  if (isLoading) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <SubjectSideBar />\r\n      <AppBar />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(Dashboard);\r\n","import React from \"react\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport Snackbar from \"@mui/material/Snackbar\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../store/actions/alertActions\";\r\n\r\nconst AlertNotification = ({\r\n  showAlertMessage,\r\n  closeAlertMessage,\r\n  alertMessageContent,\r\n}) => {\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\r\n      open={showAlertMessage}\r\n      onClose={closeAlertMessage}\r\n      autoHideDuration={6000}\r\n    >\r\n      <Alert severity=\"info\">{alertMessageContent}</Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ alert }) => {\r\n  return {\r\n    ...alert,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStoreStateToProps,\r\n  mapActionsToProps\r\n)(AlertNotification);\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport GroupsIcon from \"@mui/icons-material/Groups\";\r\n\r\nconst MainPageButton = () => {\r\n  return (\r\n    <Button\r\n      style={{\r\n        width: \"48px\",\r\n        height: \"48px\",\r\n        borderRadius: \"16px\",\r\n        margin: 0,\r\n        padding: 0,\r\n        minWidth: 0,\r\n        marginTop: \"10px\",\r\n        color: \"white\",\r\n        backgroundColor: \"#5865F2\",\r\n      }}\r\n    >\r\n      <GroupsIcon />\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default MainPageButton;\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport * as roomHandler from \"../../realtimeCommunication/roomHandler\";\r\n\r\nconst CreateRoomButton = ({ isUserInRoom }) => {\r\n  const createNewRoomHandler = () => {\r\n    roomHandler.createNewRoom();\r\n  };\r\n\r\n  return (\r\n    <Button\r\n      disabled={isUserInRoom}\r\n      onClick={createNewRoomHandler}\r\n      style={{\r\n        width: \"48px\",\r\n        height: \"48px\",\r\n        borderRadius: \"16px\",\r\n        margin: 0,\r\n        padding: 0,\r\n        minWidth: 0,\r\n        marginTop: \"10px\",\r\n        color: \"white\",\r\n        backgroundColor: \"#5865F2\",\r\n      }}\r\n    >\r\n      <AddIcon />\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default CreateRoomButton;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst AvatarPreview = styled(\"div\")({\r\n  height: \"42px\",\r\n  width: \"42px\",\r\n  backgroundColor: \"#5865f2\",\r\n  borderRadius: \"42px\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  fontSize: \"20px\",\r\n  fontWeight: \"700\",\r\n  color: \"white\",\r\n});\r\n\r\nconst Avatar = ({ username, large }) => {\r\n  return (\r\n    <AvatarPreview style={large ? { height: \"80px\", width: \"80px\" } : {}}>\r\n      {username.substring(0, 2)}\r\n    </AvatarPreview>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Tooltip from \"@mui/material/Tooltip\";\r\nimport Avatar from \"../../shared/components/Avatar\";\r\nimport * as roomHandler from \"../../realtimeCommunication/roomHandler\";\r\n\r\nconst ActiveRoomButton = ({\r\n  creatorUsername,\r\n  roomId,\r\n  amountOfParticipants,\r\n  isUserInRoom,\r\n}) => {\r\n  const handleJoinActiveRoom = () => {\r\n    if (amountOfParticipants < 4) {\r\n      roomHandler.joinRoom(roomId);\r\n    }\r\n  };\r\n\r\n  const activeRoomButtonDisabled = amountOfParticipants > 3;\r\n  const roomTitle = `Cretor: ${creatorUsername}. Connected: ${amountOfParticipants}`;\r\n\r\n  return (\r\n    <Tooltip title={roomTitle}>\r\n      <div>\r\n        <Button\r\n          style={{\r\n            width: \"48px\",\r\n            height: \"48px\",\r\n            borderRadius: \"16px\",\r\n            margin: 0,\r\n            padding: 0,\r\n            minWidth: 0,\r\n            marginTop: \"10px\",\r\n            color: \"white\",\r\n            backgroundColor: \"#5865F2\",\r\n          }}\r\n          disabled={activeRoomButtonDisabled || isUserInRoom}\r\n          onClick={handleJoinActiveRoom}\r\n        >\r\n          <Avatar username={creatorUsername} />\r\n        </Button>\r\n      </div>\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nexport default ActiveRoomButton;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport MainPageButton from \"./MainPageButton\";\r\nimport CreateRoomButton from \"./CreateRoomButton\";\r\nimport { connect } from \"react-redux\";\r\nimport ActiveRoomButton from \"./ActiveRoomButton\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  width: \"72px\",\r\n  height: \"100%\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  backgroundColor: \"#202225\",\r\n});\r\n\r\nconst SideBar = ({ activeRooms, isUserInRoom }) => {\r\n  return (\r\n    <MainContainer>\r\n      <MainPageButton />\r\n      <CreateRoomButton isUserInRoom={isUserInRoom} />\r\n      {activeRooms.map((room) => (\r\n        <ActiveRoomButton\r\n          roomId={room.roomId}\r\n          creatorUsername={room.creatorUsername}\r\n          amountOfParticipants={room.participants.length}\r\n          key={room.roomId}\r\n          isUserInRoom={isUserInRoom}\r\n        />\r\n      ))}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(SideBar);\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport CloseFullscreenIcon from \"@mui/icons-material/CloseFullscreen\";\r\nimport OpenInFullIcon from \"@mui/icons-material/OpenInFull\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  position: \"absolute\",\r\n  bottom: \"10px\",\r\n  right: \"10px\",\r\n});\r\n\r\nconst ResizeRoomButton = ({ isRoomMinimized, handleRoomResize }) => {\r\n  return (\r\n    <MainContainer>\r\n      <IconButton style={{ color: \"white\" }} onClick={handleRoomResize}>\r\n        {isRoomMinimized ? <OpenInFullIcon /> : <CloseFullscreenIcon />}\r\n      </IconButton>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default ResizeRoomButton;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"50%\",\r\n  width: \"50%\",\r\n  backgroundColor: \"black\",\r\n  borderRadius: \"8px\",\r\n});\r\n\r\nconst VideoEl = styled(\"video\")({\r\n  width: \"100%\",\r\n  height: \"100%\",\r\n});\r\n\r\nconst Video = ({ stream, isLocalStream }) => {\r\n  const videoRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const video = videoRef.current;\r\n    video.srcObject = stream;\r\n\r\n    video.onloadedmetadata = () => {\r\n      video.play();\r\n    };\r\n  }, [stream]);\r\n\r\n  return (\r\n    <MainContainer>\r\n      <VideoEl ref={videoRef} autoPlay muted={isLocalStream ? true : false} />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Video;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport { connect } from \"react-redux\";\r\nimport Video from \"./Video\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"85%\",\r\n  width: \"100%\",\r\n  display: \"flex\",\r\n  flexWrap: \"wrap\",\r\n});\r\n\r\nconst VideosContainer = ({\r\n  localStream,\r\n  remoteStreams,\r\n  screenSharingStream,\r\n}) => {\r\n  return (\r\n    <MainContainer>\r\n      <Video\r\n        stream={screenSharingStream ? screenSharingStream : localStream}\r\n        isLocalStream\r\n      />\r\n      {remoteStreams.map((stream) => (\r\n        <Video stream={stream} key={stream.id} />\r\n      ))}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(VideosContainer);\r\n","import React, { useState } from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport VideocamIcon from \"@mui/icons-material/Videocam\";\r\nimport VideocamOffIcon from \"@mui/icons-material/VideocamOff\";\r\n\r\nconst CameraButton = ({ localStream }) => {\r\n  const [cameraEnabled, setCameraEnabled] = useState(true);\r\n\r\n  const handleToggleCamera = () => {\r\n    localStream.getVideoTracks()[0].enabled = !cameraEnabled;\r\n    setCameraEnabled(!cameraEnabled);\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleToggleCamera} style={{ color: \"white\" }}>\r\n      {cameraEnabled ? <VideocamIcon /> : <VideocamOffIcon />}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default CameraButton;\r\n","import React, { useState } from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport MicIcon from \"@mui/icons-material/Mic\";\r\nimport MicOffIcon from \"@mui/icons-material/MicOff\";\r\n\r\nconst MicButton = ({ localStream }) => {\r\n  const [micEnabled, setMicEnabled] = useState(true);\r\n\r\n  const handleToggleMic = () => {\r\n    localStream.getAudioTracks()[0].enabled = !micEnabled;\r\n    setMicEnabled(!micEnabled);\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleToggleMic} style={{ color: \"white\" }}>\r\n      {micEnabled ? <MicIcon /> : <MicOffIcon />}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default MicButton;\r\n","import React from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\nimport * as roomHandler from \"../../../realtimeCommunication/roomHandler\";\r\n\r\nconst CloseRoomButton = () => {\r\n  const handleLeaveRoom = () => {\r\n    roomHandler.leaveRoom();\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleLeaveRoom} style={{ color: \"white\" }}>\r\n      <CloseIcon />\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default CloseRoomButton;\r\n","import IconButton from \"@mui/material/IconButton\";\r\nimport ScreenShareIcon from \"@mui/icons-material/ScreenShare\";\r\nimport StopScreenShareIcon from \"@mui/icons-material/StopScreenShare\";\r\nimport * as webRTCHandler from \"../../../realtimeCommunication/webRTCHandler\";\r\n\r\nconst constraints = {\r\n  audio: false,\r\n  video: true,\r\n};\r\n\r\nconst ScreenShareButton = ({\r\n  localStream,\r\n  screenSharingStream,\r\n  setScreenSharingStream,\r\n  isScreenSharingActive,\r\n}) => {\r\n  const handleScreenShareToggle = async () => {\r\n    if (!isScreenSharingActive) {\r\n      let stream = null;\r\n      try {\r\n        stream = await navigator.mediaDevices.getDisplayMedia(constraints);\r\n      } catch (err) {\r\n        console.log(\r\n          \"error occured when trying to get an access to screen share stream\"\r\n        );\r\n      }\r\n\r\n      if (stream) {\r\n        setScreenSharingStream(stream);\r\n        webRTCHandler.switchOutgoingTracks(stream);\r\n      }\r\n    } else {\r\n      webRTCHandler.switchOutgoingTracks(localStream);\r\n      screenSharingStream.getTracks().forEach((t) => t.stop());\r\n      setScreenSharingStream(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleScreenShareToggle} style={{ color: \"white\" }}>\r\n      {isScreenSharingActive ? <StopScreenShareIcon /> : <ScreenShareIcon />}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default ScreenShareButton;\r\n","import React from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport CameraButton from \"./CameraButton\";\r\nimport MicButton from \"./MicButton\";\r\nimport CloseRoomButton from \"./CloseRoomButton\";\r\nimport ScreenShareButton from \"./ScreenShareButton\";\r\nimport { connect } from \"react-redux\";\r\nimport { getActions } from \"../../../store/actions/roomActions\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  height: \"15%\",\r\n  width: \"100%\",\r\n  backgroundColor: \"#5865f2\",\r\n  borderTopLeftRadius: \"8px\",\r\n  borderTopRightRadius: \"8px\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n});\r\n\r\nconst RoomButtons = (props) => {\r\n  const { localStream, isUserJoinedWithOnlyAudio } = props;\r\n\r\n  return (\r\n    <MainContainer>\r\n      {!isUserJoinedWithOnlyAudio && <ScreenShareButton {...props} />}\r\n      <MicButton localStream={localStream} />\r\n      <CloseRoomButton />\r\n      {!isUserJoinedWithOnlyAudio && <CameraButton localStream={localStream} />}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = ({ room }) => {\r\n  return {\r\n    ...room,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    ...getActions(dispatch),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(RoomButtons);\r\n","import React, { useState } from \"react\";\r\nimport { styled } from \"@mui/system\";\r\nimport ResizeRoomButton from \"./ResizeRoomButton\";\r\nimport VideosContainer from \"./VideosContainer\";\r\nimport RoomButtons from \"./RoomButtons/RoomButtons\";\r\n\r\nconst MainContainer = styled(\"div\")({\r\n  position: \"absolute\",\r\n  borderRadius: \"8px\",\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  backgroundColor: \"#202225\",\r\n});\r\n\r\nconst fullScreenRoomStyle = {\r\n  width: \"100%\",\r\n  height: \"100vh\",\r\n};\r\n\r\nconst minimizedRoomStyle = {\r\n  bottom: \"0px\",\r\n  right: \"0px\",\r\n  width: \"30%\",\r\n  height: \"40vh\",\r\n};\r\n\r\nconst Room = () => {\r\n  const [isRoomMinimized, setIsRoomMinimized] = useState(false);\r\n\r\n  const roomResizeHandler = () => {\r\n    setIsRoomMinimized(!isRoomMinimized);\r\n  };\r\n\r\n  return (\r\n    <MainContainer\r\n      style={isRoomMinimized ? minimizedRoomStyle : fullScreenRoomStyle}\r\n    >\r\n      <VideosContainer />\r\n      <RoomButtons />\r\n      <ResizeRoomButton\r\n        isRoomMinimized={isRoomMinimized}\r\n        handleRoomResize={roomResizeHandler}\r\n      />\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","import React, { useState } from \"react\";\nimport SideBar from \"./SideBar/SideBar\";\nimport AppBar from \"./AppBar/AppBar\";\nimport { connect } from \"react-redux\";\nimport { getActions } from \"../store/actions/authActions\";\nimport Room from \"./Room/Room\";\nimport useUserDetails from \"../shared/utils/useUserDetails\";\nimport Wrapper from \"../shared/components/Wrapper\";\nimport Spinner from \"../shared/components/Spinner\";\n\nconst Subject = ({ setUserDetails, isUserInRoom }) => {\n  const [isLoading, setIsLoading] = useState(true);\n\n  useUserDetails(setUserDetails, setIsLoading);\n  if (isLoading) {\n    return <Spinner />;\n  }\n\n  return (\n    <Wrapper>\n      <SideBar />\n      <AppBar />\n      {isUserInRoom && <Room />}\n    </Wrapper>\n  );\n};\n\nconst mapStoreStateToProps = ({ room }) => {\n  return {\n    ...room,\n  };\n};\n\nconst mapActionsToProps = (dispatch) => {\n  return {\n    ...getActions(dispatch),\n  };\n};\n\nexport default connect(mapStoreStateToProps, mapActionsToProps)(Subject);\n","import React from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport LoginPage from \"./authPages/LoginPage/LoginPage\";\nimport RegisterPage from \"./authPages/RegisterPage/RegisterPage\";\nimport Dashboard from \"./Dashboard/Dashboard\";\nimport AlertNotification from \"./shared/components/AlertNotification\";\nimport Subject from \"./Dashboard/Subject\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <>\n      <Router>\n        <Switch>\n          <Route exact path=\"/login\">\n            <LoginPage />\n          </Route>\n          <Route exact path=\"/register\">\n            <RegisterPage />\n          </Route>\n          <Route exact path=\"/dashboard\">\n            <Dashboard />\n          </Route>\n\n          <Route exact path=\"/subject\">\n            <Subject />\n          </Route>\n          <Route path=\"/\">\n            <Redirect to=\"/dashboard\" />\n          </Route>\n        </Switch>\n      </Router>\n      <AlertNotification />\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/store\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}