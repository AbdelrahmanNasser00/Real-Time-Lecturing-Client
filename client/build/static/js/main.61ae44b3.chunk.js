(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{161:function(e,t,r){},198:function(e,t){},200:function(e,t){},210:function(e,t,r){},211:function(e,t,r){"use strict";r.r(t);var n=r(0),s=r.n(n),a=r(35),o=r.n(a),i=(r(161),r(52)),c=r(16),l=r(276),d=r(258),j=r(1);const h=Object(d.a)("div")({width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#5865F2"});var b=e=>Object(j.jsx)(h,{children:Object(j.jsx)(l.a,{sx:{width:700,height:400,bgcolor:"#36393f",borderRadius:"5px",boxShadow:"0 2px 10px 0 rgb(0 0 0 / 20%)",display:"flex",flexDirection:"column",padding:"25px"},children:e.children})}),u=r(274);var x=e=>{let{label:t,additionalStyles:r,disabled:n,onClick:s}=e;return Object(j.jsx)(u.a,{variant:"contained",sx:{bgcolor:"#5865F2",color:"white",textTransform:"none",fontSize:"16px",fontWeight:500,width:"100%",height:"40px"},style:r||{},disabled:n,onClick:s,children:t})},p=r(221);const m=Object(d.a)("span")({color:"#00AFF4",fontWeight:500,cursor:"pointer"});var O=e=>{let{text:t,redirectText:r,additionalStyles:n,redirectHandler:s}=e;return Object(j.jsxs)(p.a,{sx:{color:"#72767d"},style:n||{},variant:"subtitle2",children:[t,Object(j.jsx)(m,{onClick:s,children:r})]})},g=r(267);var v=e=>{let{handleLogin:t,isFormValid:r}=e;const n=Object(c.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{title:r?"Press to log in!":"Enter correct e-mail address and password should contains between 6 and 12 characters",children:Object(j.jsx)("div",{children:Object(j.jsx)(x,{label:"Log in",additionalStyles:{marginTop:"30px"},disabled:!r,onClick:t})})}),Object(j.jsx)(O,{text:"Need an account? ",redirectText:"Create an account",additionalStyles:{marginTop:"5px"},redirectHandler:()=>{n.push("/register")}})]})};var S=()=>Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p.a,{variant:"h5",sx:{color:"white"},children:"Welcome Back!"}),Object(j.jsx)(p.a,{sx:{color:"#b9bbbe"},children:"We are happy that you are with us!"})]});const f=Object(d.a)("div")({display:"flex",justifyContent:"center",flexDirection:"column",width:"100%"}),w=Object(d.a)("p")({color:"#b9bbbe",textTransform:"uppercase",fontWeight:"600",fontSize:"16px"}),y=Object(d.a)("input")({flexGrow:1,height:"40px",border:"1px solid black",borderRadius:"5px",color:"#dcddde",background:"#35393f",margin:0,fontSize:"16px",padding:"0 5px"});var E=e=>{const{value:t,setValue:r,label:n,type:s,placeholder:a}=e;return Object(j.jsxs)(f,{children:[Object(j.jsx)(w,{children:n}),Object(j.jsx)(y,{value:t,onChange:e=>{r(e.target.value)},type:s,placeholder:a})]})};var I=e=>{let{mail:t,setMail:r,password:n,setPassword:s}=e;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(E,{value:t,setValue:r,label:"E-mail",type:"text",placeholder:"Enter e-mail address"}),Object(j.jsx)(E,{value:n,setValue:s,label:"Password",type:"password",placeholder:"Enter password"})]})};const R=e=>e.length>5&&e.length<13,k=e=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e),T=e=>e.length>2&&e.length<13;var C=r(15),A=r(122);const U=()=>{localStorage.clear(),window.location.pathname="/login"},M=r.n(A).a.create({baseURL:"http://localhost:8080/api",timeout:1e3});M.interceptors.request.use((e=>{const t=localStorage.getItem("user");if(t){const r=JSON.parse(t).token;e.headers.Authorization="Bearer ".concat(r)}return e}),(e=>Promise.reject(e)));const _=e=>{var t;const r=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status;r&&(401===r||403===r)&&U()},D={OPEN_ALERT_MESSAGE:"ALERT.OPEN_ALERT_MESSAGE",CLOSE_ALERT_MESSAGE:"ALERT.CLOSE_ALERT_MESSAGE"},F=e=>({openAlertMessage:t=>e(L(t)),closeAlertMessage:()=>e(N())}),L=e=>({type:D.OPEN_ALERT_MESSAGE,content:e}),N=()=>({type:D.CLOSE_ALERT_MESSAGE});var P=D;const z="AUTH.SET_USER_DETAILS",W=e=>({login:(t,r)=>e(G(t,r)),register:(t,r)=>e(H(t,r)),setUserDetails:t=>e(V(t))}),V=e=>({type:z,userDetails:e}),G=(e,t)=>async r=>{const n=await(async e=>{try{return await M.post("/auth/login",e)}catch(t){return{error:!0,exception:t}}})(e);if(console.log(n),n.error){var s,a;r(L(null===n||void 0===n||null===(s=n.exception)||void 0===s||null===(a=s.response)||void 0===a?void 0:a.data))}else{const{userDetails:e}=null===n||void 0===n?void 0:n.data;localStorage.setItem("user",JSON.stringify(e)),r(V(e)),t.push("/dashboard")}},H=(e,t)=>async r=>{const n=await(async e=>{try{return await M.post("/auth/register",e)}catch(t){return{error:!0,exception:t}}})(e);if(console.log(n),n.error){var s,a;r(L(null===n||void 0===n||null===(s=n.exception)||void 0===s||null===(a=s.response)||void 0===a?void 0:a.data))}else{const{userDetails:e}=null===n||void 0===n?void 0:n.data;localStorage.setItem("user",JSON.stringify(e)),r(V(e)),t.push("/dashboard")}};var J=Object(C.b)(null,(e=>({...W(e)})))((e=>{let{login:t}=e;const r=Object(c.g)(),[s,a]=Object(n.useState)(""),[o,i]=Object(n.useState)(""),[l,d]=Object(n.useState)(!1);Object(n.useEffect)((()=>{d((e=>{let{mail:t,password:r}=e;const n=k(t),s=R(r);return n&&s})({mail:s,password:o}))}),[s,o,d]);return Object(j.jsxs)(b,{children:[Object(j.jsx)(S,{}),Object(j.jsx)(I,{mail:s,setMail:a,password:o,setPassword:i}),Object(j.jsx)(v,{isFormValid:l,handleLogin:()=>{t({mail:s,password:o},r)}})]})}));var B=e=>{const{mail:t,setMail:r,username:n,setUsername:s,password:a,setPassword:o}=e;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(E,{value:t,setValue:r,label:"E-mail address",type:"text",placeholder:"Enter e-mail address"}),Object(j.jsx)(E,{value:n,setValue:s,label:"Username",type:"text",placeholder:"Enter a username"}),Object(j.jsx)(E,{value:a,setValue:o,label:"Password",type:"password",placeholder:"Enter password"})]})};var Z=e=>{let{handleRegister:t,isFormValid:r}=e;const n=Object(c.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{title:r?"Press to register!":"Username should contains between 3 and 12 characters and password should contains between 6 and 12 character. Also correct e-mail address should provided",children:Object(j.jsx)("div",{children:Object(j.jsx)(x,{label:"Register",additionalStyles:{marginTop:"30px"},disabled:!r,onClick:t})})}),Object(j.jsx)(O,{text:"",redirectText:"Already have an account ?",additionalStyles:{marginTop:"5px"},redirectHandler:()=>{n.push("/login")}})]})};var $=Object(C.b)(null,(e=>({...W(e)})))((e=>{let{register:t}=e;const r=Object(c.g)(),[s,a]=Object(n.useState)(""),[o,i]=Object(n.useState)(""),[l,d]=Object(n.useState)(""),[h,u]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{u((e=>{let{mail:t,password:r,username:n}=e;return k(t)&&R(r)&&T(n)})({mail:s,username:o,password:l}))}),[s,o,l,u]),Object(j.jsxs)(b,{children:[Object(j.jsx)(p.a,{variant:"h5",sx:{color:"white "},children:"Create an account"}),Object(j.jsx)(B,{mail:s,setMail:a,username:o,setUsername:i,password:l,setPassword:d}),Object(j.jsx)(Z,{handleRegister:()=>{t({mail:s,password:l,username:o},r)},isFormValid:h})]})})),q=r(123),K=r.n(q);var Q=()=>Object(j.jsx)(u.a,{style:{width:"48px",height:"48px",borderRadius:"16px",margin:0,padding:0,minWidth:0,marginTop:"10px",color:"white",backgroundColor:"#5865F2"},children:Object(j.jsx)(K.a,{})}),X=r(128),Y=r.n(X),ee=r(124),te=r(67),re=r(125);const ne={userDetails:null};var se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;return t.type===z?{...e,userDetails:t.userDetails}:e};const ae={showAlertMessage:!1,alertMessageContent:null};var oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.OPEN_ALERT_MESSAGE:return{...e,showAlertMessage:!0,alertMessageContent:t.content};case P.CLOSE_ALERT_MESSAGE:return{...e,showAlertMessage:!1,alertMessageContent:null};default:return e}};const ie="FRIENDS.SET_FRIENDS",ce="FRIENDS.SET_PENDING_FRIENDS_INVITATIONS",le="FRIENDS.SET_ONLINE_USERS",de=e=>({sendFriendInvitation:(t,r)=>e(je(t,r)),acceptFriendInvitation:t=>e(he(t)),rejectFriendInvitation:t=>e(be(t))}),je=(e,t)=>async r=>{const n=await(async e=>{try{return await M.post("/friend-invitation/invite",e)}catch(t){return _(t),{error:!0,exception:t}}})(e);var s,a;n.error?r(L(null===(s=n.exception)||void 0===s||null===(a=s.response)||void 0===a?void 0:a.data)):(r(L("Invitation has been sent!")),t())},he=e=>async t=>{const r=await(async e=>{try{return await M.post("/friend-invitation/accept",e)}catch(t){return _(t),{error:!0,exception:t}}})(e);var n,s;r.error?t(L(null===(n=r.exception)||void 0===n||null===(s=n.response)||void 0===s?void 0:s.data)):t(L("Invitation accepted!"))},be=e=>async t=>{const r=await(async e=>{try{return await M.post("/friend-invitation/reject",e)}catch(t){return _(t),{error:!0,exception:t}}})(e);var n,s;r.error?t(L(null===(n=r.exception)||void 0===n||null===(s=n.response)||void 0===s?void 0:s.data)):t(L("Invitation rejected!"))},ue={friends:[],pendingFriendsInvitations:[],onlineUsers:[]};var xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return{...e,pendingFriendsInvitations:t.pendingFriendsInvitations};case ie:return{...e,friends:t.friends};case le:return{...e,onlineUsers:t.onlineUsers};default:return e}};const pe="ROOM.OPEN_ROOM",me="ROOM.SET_ROOM_DETAILS",Oe="ROOM.SET_ACTIVE_ROOMS",ge="ROOM.SET_LOCAL_STREAM",ve="ROOM.SET_REMOTE_STREAMS",Se="ROOM.SET_SCREEN_SHARE_STREAM",fe=function(){return{type:pe,isUserRoomCreator:arguments.length>0&&void 0!==arguments[0]&&arguments[0],isUserInRoom:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},we=e=>({setScreenSharingStream:t=>{e(Re(t))}}),ye=e=>({type:me,roomDetails:e}),Ee=e=>({type:ge,localStream:e}),Ie=e=>({type:ve,remoteStreams:e}),Re=e=>({type:Se,isScreenSharingActive:!!e,screenSharingStream:e||null}),ke={isUserInRoom:!1,isUserRoomCreator:!1,roomDetails:null,activeRooms:[],localStream:null,remoteStreams:[],screenSharingStream:null,isScreenSharingActive:!1};var Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return{...e,isUserInRoom:t.isUserInRoom,isUserRoomCreator:t.isUserRoomCreator};case me:return{...e,roomDetails:t.roomDetails};case Oe:return{...e,activeRooms:t.activeRooms};case ge:return{...e,localStream:t.localStream};case ve:return{...e,remoteStreams:t.remoteStreams};case Se:return{...e,screenSharingStream:t.screenSharingStream,isScreenSharingActive:t.isScreenSharingActive};default:return e}};const Ce=Object(te.combineReducers)({auth:se,alert:oe,friends:xe,room:Te});var Ae=Object(te.createStore)(Ce,Object(ee.composeWithDevTools)(Object(te.applyMiddleware)(re.a))),Ue=r(142),Me=r(127),_e=r.n(Me);const De=e=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((t=>{Ae.dispatch(Ee(t)),e()})).catch((e=>{console.log(e),console.log("Cannot get an access to local stream")}))};let Fe={};const Le=(e,t)=>{const r=Ae.getState().room.localStream;t?console.log("preparing new peer connection as initiator"):console.log("preparing new peer connection as not initiator"),Fe[e]=new _e.a({initiator:t,config:(console.warn("Using only STUN server"),{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),stream:r}),Fe[e].on("signal",(t=>{Ve({signal:t,connUserSocketId:e})})),Fe[e].on("stream",(t=>{console.log("remote stream came from other user"),console.log("direct connection has been established"),t.connUserSocketId=e,Ne(t)}))},Ne=e=>{const t=[...Ae.getState().room.remoteStreams,e];Ae.dispatch(Ie(t))},Pe=e=>{for(let t in Fe)for(let r in Fe[t].streams[0].getTracks())for(let n in e.getTracks())if(Fe[t].streams[0].getTracks()[r].kind===e.getTracks()[n].kind){Fe[t].replaceTrack(Fe[t].streams[0].getTracks()[r],e.getTracks()[n],Fe[t].streams[0]);break}};let ze=null;const We=e=>{const t=e.token;ze=Object(Ue.a)("http://localhost:8080",{auth:{token:t}}),ze.on("connect",(()=>{console.log("succesfully connected with socket.io server"),console.log(ze.id)})),ze.on("friends-invitations",(e=>{const{pendingInvitations:t}=e;Ae.dispatch({type:ce,pendingFriendsInvitations:t})})),ze.on("friends-list",(e=>{const{friends:t}=e;Ae.dispatch((e=>({type:ie,friends:e}))(t))})),ze.on("online-users",(e=>{const{onlineUsers:t}=e;Ae.dispatch((e=>({type:le,onlineUsers:e}))(t))})),ze.on("create-room",(e=>{He(e)})),ze.on("active-rooms",(e=>{Je(e)})),ze.on("conn-prepare",(e=>{const{connUserSocketId:t}=e;Le(t,!1),ze.emit("initialze-connection",{connUserSocketId:t})})),ze.on("initialze-connection",(e=>{const{connUserSocketId:t}=e;Le(t,!0)})),ze.on("conn-signal",(e=>{(e=>{const{connUserSocketId:t,signal:r}=e;Fe[t]&&Fe[t].signal(r)})(e)})),ze.on("room-participant-left",(e=>{console.log("user left room"),(e=>{const{connUserSocketId:t}=e;Fe[t]&&(Fe[t].destroy(),delete Fe[t]);const r=Ae.getState().room.remoteStreams.filter((e=>e.connUserSocketId!==t));Ae.dispatch(Ie(r))})(e)}))},Ve=e=>{ze.emit("conn-signal",e)},Ge=()=>{De((()=>{Ae.dispatch(fe(!0,!0)),ze.emit("create-room")}))},He=e=>{const{roomDetails:t}=e;Ae.dispatch(ye(t))},Je=e=>{var t;const{activeRooms:r}=e,n=Ae.getState().friends.friends,s=[],a=null===(t=Ae.getState().auth.userDetails)||void 0===t?void 0:t._id;r.forEach((e=>{e.roomCreator.userId===a?s.push({...e,creatorUsername:"Me"}):n.forEach((t=>{t.id===e.roomCreator.userId&&s.push({...e,creatorUsername:t.username})}))})),Ae.dispatch((e=>({type:Oe,activeRooms:e}))(s))},Be=e=>{De((()=>{var t;Ae.dispatch(ye({roomId:e})),Ae.dispatch(fe(!1,!0)),t={roomId:e},ze.emit("join-room",t)}))},Ze=()=>{const e=Ae.getState().room.roomDetails.roomId,t=Ae.getState().room.localStream;t&&(t.getTracks().forEach((e=>e.stop())),Ae.dispatch(Ee(null)));const r=Ae.getState().room.screenSharingStream;var n;r&&(r.getTracks().forEach((e=>e.stop())),Ae.dispatch(Re(null))),Ae.dispatch(Ie([])),Object.entries(Fe).forEach((e=>{const t=e[0];Fe[t]&&(Fe[t].destroy(),delete Fe[t])})),n={roomId:e},ze.emit("leave-room",n),Ae.dispatch(ye(null)),Ae.dispatch(fe(!1,!1))};var $e=e=>{let{isUserInRoom:t}=e;return Object(j.jsx)(u.a,{disabled:t,onClick:()=>{Ge()},style:{width:"48px",height:"48px",borderRadius:"16px",margin:0,padding:0,minWidth:0,marginTop:"10px",color:"white",backgroundColor:"#5865F2"},children:Object(j.jsx)(Y.a,{})})};const qe=Object(d.a)("div")({height:"42px",width:"42px",backgroundColor:"#5865f2",borderRadius:"42px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"700",color:"white"});var Ke=e=>{let{username:t,large:r}=e;return Object(j.jsx)(qe,{style:r?{height:"80px",width:"80px"}:{},children:t.substring(0,2)})};var Qe=e=>{let{creatorUsername:t,roomId:r,amountOfParticipants:n,isUserInRoom:s}=e;const a=n>3,o="Cretor: ".concat(t,". Connected: ").concat(n);return Object(j.jsx)(g.a,{title:o,children:Object(j.jsx)("div",{children:Object(j.jsx)(u.a,{style:{width:"48px",height:"48px",borderRadius:"16px",margin:0,padding:0,minWidth:0,marginTop:"10px",color:"white",backgroundColor:"#5865F2"},disabled:a||s,onClick:()=>{n<4&&Be(r)},children:Object(j.jsx)(Ke,{username:t})})})})};const Xe=Object(d.a)("div")({width:"72px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#202225"});var Ye=Object(C.b)((e=>{let{room:t}=e;return{...t}}))((e=>{let{activeRooms:t,isUserInRoom:r}=e;return Object(j.jsxs)(Xe,{children:[Object(j.jsx)(Q,{}),Object(j.jsx)($e,{isUserInRoom:r}),t.map((e=>Object(j.jsx)(Qe,{roomId:e.roomId,creatorUsername:e.creatorUsername,amountOfParticipants:e.participants.length,isUserInRoom:r},e.roomId)))]})})),et=r(279),tt=r(266),rt=r(283),nt=r(281),st=r(282);var at=Object(C.b)(null,(e=>({...de(e)})))((e=>{let{isDialogOpen:t,closeDialogHandler:r,sendFriendInvitation:s=(()=>{})}=e;const[a,o]=Object(n.useState)(""),[i,c]=Object(n.useState)(""),l=()=>{r(),o("")};return Object(n.useEffect)((()=>{c(k(a))}),[a,c]),Object(j.jsx)("div",{children:Object(j.jsxs)(et.a,{open:t,onClose:l,children:[Object(j.jsx)(tt.a,{children:Object(j.jsx)(p.a,{children:"Invite a Friend"})}),Object(j.jsxs)(nt.a,{children:[Object(j.jsx)(st.a,{children:Object(j.jsx)(p.a,{children:"Enter e-mail address of friend which you would like to invite"})}),Object(j.jsx)(E,{label:"Mail",type:"text",value:a,setValue:o,placeholder:"Enter mail address"})]}),Object(j.jsx)(rt.a,{children:Object(j.jsx)(x,{onClick:()=>{s({targetMailAddress:a},l)},disabled:!i,label:"Send",additionalStyles:{marginLeft:"15px",marginRight:"15px",marginBottom:"10px"}})})]})})}));const ot={marginTop:"10px",marginLeft:"5px",width:"80%",height:"30px",background:"#3ba55d"};var it=()=>{const[e,t]=Object(n.useState)(!1);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x,{additionalStyles:ot,label:"Send Invitation",onClick:()=>{t(!0)}}),Object(j.jsx)(at,{isDialogOpen:e,closeDialogHandler:()=>{t(!1)}})]})};var ct=e=>{let{title:t}=e;return Object(j.jsx)(p.a,{sx:{textTransform:"uppercase",color:"#8e9297",fontSize:"14px",marginTop:"10px"},children:t})},lt=r(129),dt=r.n(lt);var jt=()=>Object(j.jsx)(l.a,{sx:{color:"#3ba55d",display:"flex",alignItems:"center",position:"absolute",right:"5px"},children:Object(j.jsx)(dt.a,{})});var ht=e=>{let{id:t,username:r,isOnline:n}=e;return Object(j.jsxs)(u.a,{disabled:!0,style:{width:"100%",height:"42px",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"flex-start",textTransform:"none",color:"black",position:"relative"},children:[Object(j.jsx)(Ke,{username:r}),Object(j.jsx)(p.a,{style:{marginLeft:"7px",fontWeight:700,color:"#8e9297"},variant:"subtitle1",align:"left",children:r}),n&&Object(j.jsx)(jt,{})]})};const bt=Object(d.a)("div")({flexGrow:1,width:"100%"}),ut=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((e=>{const r=t.find((t=>t.userId===e.id));e.isOnline=!!r})),e};var xt=Object(C.b)((e=>{let{friends:t}=e;return{...t}}))((e=>{let{friends:t,onlineUsers:r}=e;return Object(j.jsx)(bt,{children:ut(t,r).map((e=>Object(j.jsx)(ht,{username:e.username,id:e.id,isOnline:e.isOnline},e.id)))})})),pt=r(130),mt=r.n(pt),Ot=r(131),gt=r.n(Ot),vt=r(284);var St=e=>{let{disabled:t,acceptInvitationHandler:r,rejectInvitationHandler:n}=e;return Object(j.jsxs)(l.a,{sx:{display:"flex"},children:[Object(j.jsx)(vt.a,{style:{color:"white"},disabled:t,onClick:r,children:Object(j.jsx)(mt.a,{})}),Object(j.jsx)(vt.a,{style:{color:"white"},disabled:t,onClick:n,children:Object(j.jsx)(gt.a,{})})]})};var ft=Object(C.b)(null,(e=>({...de(e)})))((e=>{let{id:t,username:r,mail:s,acceptFriendInvitation:a=(()=>{}),rejectFriendInvitation:o=(()=>{})}=e;const[i,c]=Object(n.useState)(!1);return Object(j.jsx)(g.a,{title:s,children:Object(j.jsx)("div",{style:{width:"100%"},children:Object(j.jsxs)(l.a,{sx:{width:"100%",height:"42px",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(j.jsx)(Ke,{username:r}),Object(j.jsx)(p.a,{sx:{marginLeft:"7px",fontWeight:700,color:"#8e9297",flexGrow:1},variant:"subtitle1",children:r}),Object(j.jsx)(St,{disabled:i,acceptInvitationHandler:()=>{console.log(t),a({id:t}),c(!0)},rejectInvitationHandler:()=>{console.log(t),o({id:t}),c(!0)}})]})})})}));const wt=Object(d.a)("div")({width:"100%",height:"22%",display:"flex",flexDirection:"column",alignItems:"center",overflow:"auto"});var yt=Object(C.b)((e=>{let{friends:t}=e;return{...t}}))((e=>{let{pendingFriendsInvitations:t}=e;return Object(j.jsx)(wt,{children:t.map((e=>Object(j.jsx)(ft,{id:e._id,username:e.senderId.username,mail:e.senderId.mail},e._id)))})}));const Et=Object(d.a)("div")({width:"224px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#2F3136"});var It=()=>Object(j.jsxs)(Et,{children:[Object(j.jsx)(it,{}),Object(j.jsx)(ct,{title:"Enrolled Students"}),Object(j.jsx)(xt,{}),Object(j.jsx)(ct,{title:"Invitations"}),Object(j.jsx)(yt,{})]}),Rt=r(269),kt=r(273),Tt=r(132),Ct=r.n(Tt);function At(){const[e,t]=s.a.useState(null),r=Boolean(e);return Object(j.jsxs)("div",{children:[Object(j.jsx)(vt.a,{onClick:e=>{t(e.currentTarget)},style:{color:"white"},children:Object(j.jsx)(Ct.a,{})}),Object(j.jsx)(Rt.a,{id:"basic-menu",anchorEl:e,open:r,onClose:()=>{t(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(j.jsx)(kt.a,{onClick:U,children:"Logout"})})]})}const Ut=Object(d.a)("div")({position:"absolute",right:"0",top:"0",height:"48px",borderBottom:"1px solid black",backgroundColor:"#36393f",width:"calc(100% - 326px)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 15px"});var Mt=()=>Object(j.jsx)(Ut,{children:Object(j.jsx)(At,{})}),_t=r(134),Dt=r.n(_t),Ft=r(133),Lt=r.n(Ft);const Nt=Object(d.a)("div")({position:"absolute",bottom:"10px",right:"10px"});var Pt=e=>{let{isRoomMinimized:t,handleRoomResize:r}=e;return Object(j.jsx)(Nt,{children:Object(j.jsx)(vt.a,{style:{color:"white"},onClick:r,children:t?Object(j.jsx)(Lt.a,{}):Object(j.jsx)(Dt.a,{})})})};const zt=Object(d.a)("div")({height:"50%",width:"50%",backgroundColor:"black",borderRadius:"8px"}),Wt=Object(d.a)("video")({width:"100%",height:"100%"});var Vt=e=>{let{stream:t,isLocalStream:r}=e;const s=Object(n.useRef)();return Object(n.useEffect)((()=>{const e=s.current;e.srcObject=t,e.onloadedmetadata=()=>{e.play()}}),[t]),Object(j.jsx)(zt,{children:Object(j.jsx)(Wt,{ref:s,autoPlay:!0,muted:!!r})})};const Gt=Object(d.a)("div")({height:"85%",width:"100%",display:"flex",flexWrap:"wrap"});var Ht=Object(C.b)((e=>{let{room:t}=e;return{...t}}))((e=>{let{localStream:t,remoteStreams:r,screenSharingStream:n}=e;return Object(j.jsxs)(Gt,{children:[Object(j.jsx)(Vt,{stream:n||t,isLocalStream:!0}),r.map((e=>Object(j.jsx)(Vt,{stream:e},e.id)))]})})),Jt=r(135),Bt=r.n(Jt),Zt=r(136),$t=r.n(Zt);var qt=e=>{let{localStream:t}=e;const[r,s]=Object(n.useState)(!0);return Object(j.jsx)(vt.a,{onClick:()=>{t.getVideoTracks()[0].enabled=!r,s(!r)},style:{color:"white"},children:r?Object(j.jsx)(Bt.a,{}):Object(j.jsx)($t.a,{})})},Kt=r(137),Qt=r.n(Kt),Xt=r(138),Yt=r.n(Xt);var er=e=>{let{localStream:t}=e;const[r,s]=Object(n.useState)(!0);return Object(j.jsx)(vt.a,{onClick:()=>{t.getAudioTracks()[0].enabled=!r,s(!r)},style:{color:"white"},children:r?Object(j.jsx)(Qt.a,{}):Object(j.jsx)(Yt.a,{})})},tr=r(139),rr=r.n(tr);var nr=()=>Object(j.jsx)(vt.a,{onClick:()=>{Ze()},style:{color:"white"},children:Object(j.jsx)(rr.a,{})}),sr=r(141),ar=r.n(sr),or=r(140),ir=r.n(or);const cr={audio:!1,video:!0};var lr=e=>{let{localStream:t,screenSharingStream:r,setScreenSharingStream:n,isScreenSharingActive:s}=e;return Object(j.jsx)(vt.a,{onClick:async()=>{if(s)Pe(t),r.getTracks().forEach((e=>e.stop())),n(null);else{let t=null;try{t=await navigator.mediaDevices.getDisplayMedia(cr)}catch(e){console.log("error occured when trying to get an access to screen share stream")}t&&(n(t),Pe(t))}},style:{color:"white"},children:s?Object(j.jsx)(ir.a,{}):Object(j.jsx)(ar.a,{})})};const dr=Object(d.a)("div")({height:"15%",width:"100%",backgroundColor:"#5865f2",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"});var jr=Object(C.b)((e=>{let{room:t}=e;return{...t}}),(e=>({...we(e)})))((e=>{const{localStream:t,isUserJoinedWithOnlyAudio:r}=e;return Object(j.jsxs)(dr,{children:[!r&&Object(j.jsx)(lr,{...e}),Object(j.jsx)(er,{localStream:t}),Object(j.jsx)(nr,{}),!r&&Object(j.jsx)(qt,{localStream:t})]})}));const hr=Object(d.a)("div")({position:"absolute",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#202225"}),br={width:"100%",height:"100vh"},ur={bottom:"0px",right:"0px",width:"30%",height:"40vh"};var xr=()=>{const[e,t]=Object(n.useState)(!0);return Object(j.jsxs)(hr,{style:e?ur:br,children:[Object(j.jsx)(Ht,{}),Object(j.jsx)(jr,{}),Object(j.jsx)(Pt,{isRoomMinimized:e,handleRoomResize:()=>{t(!e)}})]})};const pr=Object(d.a)("div")({width:"100%",height:"100vh",display:"flex",backgroundColor:"#36393f"});var mr=Object(C.b)((e=>{let{room:t}=e;return{...t}}),(e=>({...W(e)})))((e=>{let{setUserDetails:t,isUserInRoom:r}=e;return Object(n.useEffect)((()=>{const e=localStorage.getItem("user");e?(t(JSON.parse(e)),We(JSON.parse(e))):U()}),[t]),Object(j.jsxs)(pr,{children:[Object(j.jsx)(Ye,{}),Object(j.jsx)(It,{}),Object(j.jsx)(Mt,{}),r&&Object(j.jsx)(xr,{})]})})),Or=r(270),gr=r(271);var vr=Object(C.b)((e=>{let{alert:t}=e;return{...t}}),(e=>({...F(e)})))((e=>{let{showAlertMessage:t,closeAlertMessage:r,alertMessageContent:n}=e;return Object(j.jsx)(gr.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,onClose:r,autoHideDuration:6e3,children:Object(j.jsx)(Or.a,{severity:"info",children:n})})}));r(210);var Sr=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.a,{children:Object(j.jsxs)(c.d,{children:[Object(j.jsx)(c.b,{exact:!0,path:"/login",children:Object(j.jsx)(J,{})}),Object(j.jsx)(c.b,{exact:!0,path:"/register",children:Object(j.jsx)($,{})}),Object(j.jsx)(c.b,{exact:!0,path:"/dashboard",children:Object(j.jsx)(mr,{})}),Object(j.jsx)(c.b,{path:"/",children:Object(j.jsx)(c.a,{to:"/dashboard"})})]})}),Object(j.jsx)(vr,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(j.jsx)(C.a,{store:Ae,children:Object(j.jsx)(Sr,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}},[[211,1,2]]]);
//# sourceMappingURL=main.61ae44b3.chunk.js.map