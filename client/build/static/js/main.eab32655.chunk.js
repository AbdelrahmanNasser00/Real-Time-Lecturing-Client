(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{150:function(e,t,r){},177:function(e,t,r){},188:function(e,t){},190:function(e,t){},200:function(e,t,r){},201:function(e,t,r){"use strict";r.r(t);var s=r(0),o=r.n(s),a=r(35),n=r.n(a),c=(r(150),r(48)),i=r(14),l=r(262),d=r(246),j=r(1);const h=Object(d.a)("div")({width:"100%",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#5865F2"});var b=e=>Object(j.jsx)(h,{children:Object(j.jsx)(l.a,{sx:{width:700,height:400,bgcolor:"#36393f",borderRadius:"5px",boxShadow:"0 2px 10px 0 rgb(0 0 0 / 20%)",display:"flex",flexDirection:"column",padding:"25px"},children:e.children})}),u=r(260);var m=e=>{let{label:t,additionalStyles:r,disabled:s,onClick:o}=e;return Object(j.jsx)(u.a,{variant:"contained",sx:{bgcolor:"#5865F2",color:"white",textTransform:"none",fontSize:"16px",fontWeight:500,width:"100%",height:"40px"},style:r||{},disabled:s,onClick:o,children:t})},x=r(265);const g=Object(d.a)("span")({color:"#00AFF4",fontWeight:500,cursor:"pointer"});var p=e=>{let{text:t,redirectText:r,additionalStyles:s,redirectHandler:o}=e;return Object(j.jsxs)(x.a,{sx:{color:"#72767d"},style:s||{},variant:"subtitle2",children:[t,Object(j.jsx)(g,{onClick:o,children:r})]})},O=r(254);var v=e=>{let{handleLogin:t,isFormValid:r}=e;const s=Object(i.g)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(O.a,{title:r?"Press to log in!":"Enter correct e-mail address and password should contains between 6 and 12 characters",children:Object(j.jsx)("div",{children:Object(j.jsx)(m,{label:"Log in",additionalStyles:{marginTop:"30px"},disabled:!r,onClick:t})})}),Object(j.jsx)(p,{text:"Need an account? ",redirectText:"Create an account",additionalStyles:{marginTop:"5px"},redirectHandler:()=>{s.push("/register")}})]})};var S=()=>Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.a,{variant:"h5",sx:{color:"white"},children:"Welcome Back!"}),Object(j.jsx)(x.a,{sx:{color:"#b9bbbe"},children:"We are happy that you are with us!"})]});const f=Object(d.a)("div")({display:"flex",justifyContent:"center",flexDirection:"column",width:"100%"}),w=Object(d.a)("p")({color:"#b9bbbe",textTransform:"uppercase",fontWeight:"600",fontSize:"16px"}),y=Object(d.a)("input")({flexGrow:1,height:"40px",border:"1px solid black",borderRadius:"5px",color:"#dcddde",background:"#35393f",margin:0,fontSize:"16px",padding:"0 5px"});var E=e=>{const{value:t,setValue:r,label:s,type:o,placeholder:a}=e;return Object(j.jsxs)(f,{children:[Object(j.jsx)(w,{children:s}),Object(j.jsx)(y,{value:t,onChange:e=>{r(e.target.value)},type:o,placeholder:a})]})};var R=e=>{let{mail:t,setMail:r,password:s,setPassword:o}=e;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(E,{value:t,setValue:r,label:"E-mail",type:"text",placeholder:"Enter e-mail address"}),Object(j.jsx)(E,{value:s,setValue:o,label:"Password",type:"password",placeholder:"Enter password"})]})};const C=e=>e.length>5&&e.length<13,k=e=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test(e),T=e=>e.length>2&&e.length<13;var I=r(16),A=r(119);const U=()=>{localStorage.clear(),window.location.pathname="/login"},M=r.n(A).a.create({baseURL:"http://localhost:8080/api",timeout:5e3});M.interceptors.request.use((e=>{const t=localStorage.getItem("user");if(t){const r=JSON.parse(t).token;e.headers.Authorization="Bearer ".concat(r)}return e}),(e=>Promise.reject(e)));const _={OPEN_ALERT_MESSAGE:"ALERT.OPEN_ALERT_MESSAGE",CLOSE_ALERT_MESSAGE:"ALERT.CLOSE_ALERT_MESSAGE"},L=e=>({openAlertMessage:t=>e(D(t)),closeAlertMessage:()=>e(N())}),D=e=>({type:_.OPEN_ALERT_MESSAGE,content:e}),N=()=>({type:_.CLOSE_ALERT_MESSAGE});var F=_;const V="AUTH.SET_USER_DETAILS",z="AUTH.SET_UNVERIFIED_USER_DETAILS",P=e=>({login:(t,r)=>e(J(t,r)),register:t=>e(B(t)),verify:(t,r)=>e(G(t,r)),setUserDetails:t=>e(W(t))}),W=e=>({type:V,userDetails:e}),J=(e,t)=>async r=>{const s=await(async e=>{try{return await M.post("/auth/login",e)}catch(t){return{error:!0,exception:t}}})(e);if(console.log(s),s.error){var o,a;r(D(null===s||void 0===s||null===(o=s.exception)||void 0===o||null===(a=o.response)||void 0===a?void 0:a.data))}else{const{userDetails:e}=null===s||void 0===s?void 0:s.data;localStorage.setItem("user",JSON.stringify(e)),r(W(e)),t.push("/dashboard")}},B=e=>async t=>{const r=await(async e=>{try{return await M.post("/auth/register",e)}catch(t){return{error:!0,exception:t}}})(e);if(console.log(r),r.error){var s,o;t(D(null===r||void 0===r||null===(s=r.exception)||void 0===s||null===(o=s.response)||void 0===o?void 0:o.data))}else{const{userDetails:e}=null===r||void 0===r?void 0:r.data;localStorage.setItem("unverifiedUser",JSON.stringify(e)),console.log("register actoin",localStorage.getItem("unverifiedUser")),t((e=>({type:z,userDetails:e}))(e))}},G=(e,t)=>async r=>{const s=await(async e=>{try{return await M.post("/auth/verify",e)}catch(t){return{error:!0,exception:t}}})(e);if(console.log(s),s.error){var o,a;r(D(null===s||void 0===s||null===(o=s.exception)||void 0===o||null===(a=o.response)||void 0===a?void 0:a.data))}else{const{userDetails:e}=null===s||void 0===s?void 0:s.data;localStorage.setItem("user",JSON.stringify(e)),console.log("verified",e),r(W(e)),t.push("/dashboard")}};var H=Object(I.b)(null,(e=>({...P(e)})))((e=>{let{login:t}=e;const r=Object(i.g)(),[o,a]=Object(s.useState)(""),[n,c]=Object(s.useState)(""),[l,d]=Object(s.useState)(!1);Object(s.useEffect)((()=>{d((e=>{let{mail:t,password:r}=e;const s=k(t),o=C(r);return s&&o})({mail:o,password:n})),document.title="Real Time Lecutring - log in"}),[o,n]);return Object(j.jsxs)(b,{children:[Object(j.jsx)(S,{}),Object(j.jsx)(R,{mail:o,setMail:a,password:n,setPassword:c}),Object(j.jsx)(v,{isFormValid:l,handleLogin:()=>{t({mail:o,password:n},r)}})]})}));var Z=e=>{const{mail:t,setMail:r,username:s,setUsername:o,password:a,setPassword:n}=e;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(E,{value:t,setValue:r,label:"E-mail address",type:"text",placeholder:"Enter e-mail address"}),Object(j.jsx)(E,{value:s,setValue:o,label:"Username",type:"text",placeholder:"Enter a username"}),Object(j.jsx)(E,{value:a,setValue:n,label:"Password",type:"password",placeholder:"Enter password"})]})};var $=e=>{let{handleRegister:t,isFormValid:r,showValidationCode:s,setShowValidationCode:o}=e;const a=Object(i.g)();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{children:[" ",Object(j.jsx)(O.a,{title:r?"Press to register!":"Username should contains between 3 and 12 characters and password should contains between 6 and 12 character. Also correct e-mail address should provided",children:Object(j.jsx)("div",{children:Object(j.jsx)(m,{label:"Register",additionalStyles:{marginTop:"30px"},disabled:!r,onClick:()=>{o(!s),t()}})})}),Object(j.jsx)(p,{text:"",redirectText:"Already have an account ?",additionalStyles:{marginTop:"5px"},redirectHandler:()=>{a.push("/login")}})]})})},q=r(120);r(177);var Y=e=>{let{handleVerify:t,verificationCode:r,setVerificationCode:s}=e;const o={width:"40px",height:"40px",fontSize:"20px",margin:"5px",border:"2px solid",borderRadius:"10px",textAlign:"center",fontWeight:"800"};return Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("form",{className:"form",children:[Object(j.jsx)("div",{className:"Enter-ver-text",children:Object(j.jsx)("p",{children:"Enter verification code"})}),Object(j.jsx)("div",{className:"otp-field",children:Object(j.jsx)(q.a,{value:r,onChange:s,numInputs:6,renderSeparator:Object(j.jsx)("span",{children:"-"}),renderInput:(e,t)=>Object(j.jsx)("input",{...e,style:o})})}),Object(j.jsxs)("button",{className:"submitBtn",onClick:e=>{e.preventDefault(),t()},children:["Submit",Object(j.jsx)("svg",{fill:"white",viewBox:"0 0 448 512",height:"1em",className:"arrow",children:Object(j.jsx)("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"})})]})]})})};var K=Object(I.b)(null,(e=>({...P(e)})))((e=>{let{register:t,verify:r}=e;const o=Object(i.g)(),[a,n]=Object(s.useState)(""),[c,l]=Object(s.useState)(""),[d,h]=Object(s.useState)(""),[u,m]=Object(s.useState)(""),[g,p]=Object(s.useState)(!1),[O,v]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{v((e=>{let{mail:t,password:r,username:s}=e;return k(t)&&C(r)&&T(s)})({mail:a,username:c,password:d})),document.title="Real Time Lecutring - log in"}),[a,c,d,v]),Object(j.jsxs)(j.Fragment,{children:[!g&&Object(j.jsx)(b,{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(x.a,{variant:"h5",sx:{color:"white "},children:"Create an account"}),Object(j.jsx)(Z,{mail:a,setMail:n,username:c,setUsername:l,password:d,setPassword:h}),Object(j.jsx)($,{handleRegister:()=>{console.log("handle register called");t({mail:a,password:d,username:c})},showValidationCode:g,setShowValidationCode:p,isFormValid:O})]})}),g&&Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(Y,{handleVerify:async()=>{console.log("handle verify called");const e=localStorage.getItem("unverifiedUser"),t=JSON.parse(e);t.verificationCode=u,localStorage.setItem("unverifiedUser",JSON.stringify(t)),r(t,o)},verificationCode:u,setVerificationCode:m})})]})}));const Q=Object(d.a)("div")({display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100vh"}),X=Object(d.a)("div")({border:"4px solid rgba(0, 0, 0, 0.1)",borderTop:"4px solid #fff",borderRadius:"50%",width:"50px",height:"50px",animation:"$spin 1s linear infinite","@keyframes spin":{from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}}});var ee=()=>Object(j.jsx)(Q,{children:Object(j.jsx)(X,{})}),te=r(137);const re="SUBJECTS.SET_SUBJECTS";var se=r(122),oe=r(67),ae=r(123);const ne={userDetails:null};var ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:case z:return{...e,userDetails:t.userDetails};default:return e}};const ie={showAlertMessage:!1,alertMessageContent:null};var le=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.OPEN_ALERT_MESSAGE:return{...e,showAlertMessage:!0,alertMessageContent:t.content};case F.CLOSE_ALERT_MESSAGE:return{...e,showAlertMessage:!1,alertMessageContent:null};default:return e}};const de="ROOM.OPEN_ROOM",je="ROOM.SET_ROOM_DETAILS",he="ROOM.SET_ACTIVE_ROOMS",be="ROOM.SET_LOCAL_STREAM",ue="ROOM.SET_REMOTE_STREAMS",me="ROOM.SET_SCREEN_SHARE_STREAM",xe=function(){return{type:de,isUserRoomCreator:arguments.length>0&&void 0!==arguments[0]&&arguments[0],isUserInRoom:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},ge=e=>({setScreenSharingStream:t=>{e(Se(t))}}),pe=e=>({type:je,roomDetails:e}),Oe=e=>({type:be,localStream:e}),ve=e=>({type:ue,remoteStreams:e}),Se=e=>({type:me,isScreenSharingActive:!!e,screenSharingStream:e||null}),fe={isUserInRoom:!1,isUserRoomCreator:!1,roomDetails:null,activeRooms:[],localStream:null,remoteStreams:[],screenSharingStream:null,isScreenSharingActive:!1};var we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{...e,isUserInRoom:t.isUserInRoom,isUserRoomCreator:t.isUserRoomCreator};case je:return{...e,roomDetails:t.roomDetails};case he:return{...e,activeRooms:t.activeRooms};case be:return{...e,localStream:t.localStream};case ue:return{...e,remoteStreams:t.remoteStreams};case me:return{...e,screenSharingStream:t.screenSharingStream,isScreenSharingActive:t.isScreenSharingActive};default:return e}};const ye={subjects:[]};var Ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;return t.type===re?{...e,subjects:t.subjects}:e};const Re=Object(oe.combineReducers)({auth:ce,alert:le,room:we,subjects:Ee});var Ce=Object(oe.createStore)(Re,Object(se.composeWithDevTools)(Object(oe.applyMiddleware)(ae.a))),ke=r(124),Te=r.n(ke);const Ie=e=>{navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((t=>{Ce.dispatch(Oe(t)),e()})).catch((e=>{console.log(e),console.log("Cannot get an access to local stream")}))};let Ae={};const Ue=(e,t)=>{const r=Ce.getState().room.localStream;t?console.log("preparing new peer connection as initiator"):console.log("preparing new peer connection as not initiator"),Ae[e]=new Te.a({initiator:t,config:(console.warn("Using only STUN server"),{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),stream:r}),Ae[e].on("signal",(t=>{We({signal:t,connUserSocketId:e})})),Ae[e].on("stream",(t=>{console.log("remote stream came from other user"),console.log("direct connection has been established"),t.connUserSocketId=e,Me(t)}))},Me=e=>{const t=[...Ce.getState().room.remoteStreams,e];Ce.dispatch(ve(t))},_e=e=>{for(let t in Ae)for(let r in Ae[t].streams[0].getTracks())for(let s in e.getTracks())if(Ae[t].streams[0].getTracks()[r].kind===e.getTracks()[s].kind){Ae[t].replaceTrack(Ae[t].streams[0].getTracks()[r],e.getTracks()[s],Ae[t].streams[0]);break}},Le=e=>{const{activeRooms:t}=e,r=[];t.forEach((e=>{r.push({...e,creatorUsername:".."})})),Ce.dispatch((e=>({type:he,activeRooms:e}))(r))},De=()=>{const e=Ce.getState().room.roomDetails.roomId,t=Ce.getState().room.localStream;t&&(t.getTracks().forEach((e=>e.stop())),Ce.dispatch(Oe(null)));const r=Ce.getState().room.screenSharingStream;r&&(r.getTracks().forEach((e=>e.stop())),Ce.dispatch(Se(null))),Ce.dispatch(ve([])),Object.entries(Ae).forEach((e=>{const t=e[0];Ae[t]&&(Ae[t].destroy(),delete Ae[t])})),Pe({roomId:e}),Ce.dispatch(pe(null)),Ce.dispatch(xe(!1,!1))};let Ne=null;const Fe=e=>{const t=e.token;Ne=Object(te.a)("http://localhost:8080",{auth:{token:t}}),Ne.on("connect",(()=>{console.log("succesfully connected with socket.io server"),console.log(Ne.id)})),Ne.on("subjects-list",(e=>{console.log("subjects came"),Ce.dispatch({type:re,subjects:e})})),Ne.on("create-room",(e=>{(e=>{const{roomDetails:t}=e;Ce.dispatch(pe(t))})(e)})),Ne.on("active-rooms",(e=>{Le(e)})),Ne.on("conn-prepare",(e=>{const{connUserSocketId:t}=e;Ue(t,!1),Ne.emit("initialze-connection",{connUserSocketId:t})})),Ne.on("initialze-connection",(e=>{const{connUserSocketId:t}=e;Ue(t,!0)})),Ne.on("conn-signal",(e=>{(e=>{const{connUserSocketId:t,signal:r}=e;Ae[t]&&Ae[t].signal(r)})(e)})),Ne.on("room-participant-left",(e=>{console.log("user left room"),(e=>{const{connUserSocketId:t}=e;Ae[t]&&(Ae[t].destroy(),delete Ae[t]);const r=Ce.getState().room.remoteStreams.filter((e=>e.connUserSocketId!==t));Ce.dispatch(ve(r))})(e)}))},Ve=()=>{Ne.emit("create-room")},ze=e=>{Ne.emit("join-room",e)},Pe=e=>{Ne.emit("leave-room",e)},We=e=>{Ne.emit("conn-signal",e)};var Je=(e,t)=>{Object(s.useEffect)((()=>{const r=localStorage.getItem("user");if(r){const s=JSON.parse(r);e(s),Fe(s),document.title="Real Time Lecturing Dashboard \n ".concat(s.username),t(!1)}else U()}),[e,t])};var Be=e=>{let{name:t}=e;const r=Object(i.g)();return Object(j.jsx)(u.a,{disabled:!1,onClick:()=>{console.log("subject clicked"),r.push("/subject")},style:{width:"100%",height:"42px",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"flex-start",textTransform:"none",color:"black",position:"relative"},children:Object(j.jsx)(x.a,{style:{marginLeft:"7px",fontWeight:700,color:"white"},variant:"subtitle1",align:"left",children:t})})};const Ge=Object(d.a)("div")({flexGrow:1,width:"100%"});var He=Object(I.b)((e=>{let{subjects:t}=e;return{...t}}))((e=>{let{subjects:t}=e;return Object(j.jsx)(Ge,{children:t.map(((e,t)=>Object(j.jsx)(Be,{name:e.name},t)))})}));var Ze=e=>{let{title:t}=e;return Object(j.jsx)(x.a,{sx:{textTransform:"uppercase",color:"#8e9297",fontSize:"25px",marginTop:"10px"},children:t})};const $e=Object(d.a)("div")({width:"224px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#2F3136"});var qe=()=>Object(j.jsxs)($e,{children:[Object(j.jsx)(Ze,{title:"Your Subjects"}),Object(j.jsx)(He,{})]}),Ye=r(255),Ke=r(259),Qe=r(266),Xe=r(125),et=r.n(Xe);function tt(){const[e,t]=o.a.useState(null),r=Boolean(e);return Object(j.jsxs)("div",{children:[Object(j.jsx)(Qe.a,{onClick:e=>{t(e.currentTarget)},style:{color:"white"},children:Object(j.jsx)(et.a,{})}),Object(j.jsx)(Ye.a,{id:"basic-menu",anchorEl:e,open:r,onClose:()=>{t(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:Object(j.jsx)(Ke.a,{onClick:U,children:"Logout"})})]})}const rt=Object(d.a)("div")({position:"absolute",right:"0",top:"0",height:"48px",borderBottom:"1px solid black",backgroundColor:"#36393f",width:"calc(100% - 326px)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 15px"});var st=()=>Object(j.jsx)(rt,{children:Object(j.jsx)(tt,{})});var ot=Object(d.a)("div")({width:"100%",height:"100vh",display:"flex",backgroundColor:"#36393f"});var at=Object(I.b)(null,(e=>({...P(e)})))((e=>{let{setUserDetails:t}=e;const[r,o]=Object(s.useState)(!0);return Je(t,o),r?Object(j.jsx)(ee,{}):Object(j.jsxs)(ot,{children:[Object(j.jsx)(qe,{}),Object(j.jsx)(st,{})]})})),nt=r(257),ct=r(258);var it=Object(I.b)((e=>{let{alert:t}=e;return{...t}}),(e=>({...L(e)})))((e=>{let{showAlertMessage:t,closeAlertMessage:r,alertMessageContent:s}=e;return Object(j.jsx)(ct.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:t,onClose:r,autoHideDuration:6e3,children:Object(j.jsx)(nt.a,{severity:"info",children:s})})})),lt=r(126),dt=r.n(lt);var jt=()=>Object(j.jsx)(u.a,{style:{width:"48px",height:"48px",borderRadius:"16px",margin:0,padding:0,minWidth:0,marginTop:"10px",color:"white",backgroundColor:"#5865F2"},children:Object(j.jsx)(dt.a,{})}),ht=r(127),bt=r.n(ht);var ut=e=>{let{isUserInRoom:t}=e;return Object(j.jsx)(u.a,{disabled:t,onClick:()=>{Ie((()=>{Ce.dispatch(xe(!0,!0)),Ve()}))},style:{width:"48px",height:"48px",borderRadius:"16px",margin:0,padding:0,minWidth:0,marginTop:"10px",color:"white",backgroundColor:"#5865F2"},children:Object(j.jsx)(bt.a,{})})};const mt=Object(d.a)("div")({height:"42px",width:"42px",backgroundColor:"#5865f2",borderRadius:"42px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"700",color:"white"});var xt=e=>{let{username:t,large:r}=e;return Object(j.jsx)(mt,{style:r?{height:"80px",width:"80px"}:{},children:t.substring(0,2)})};var gt=e=>{let{creatorUsername:t,roomId:r,amountOfParticipants:s,isUserInRoom:o}=e;const a=s>3,n="Cretor: ".concat(t,". Connected: ").concat(s);return Object(j.jsx)(O.a,{title:n,children:Object(j.jsx)("div",{children:Object(j.jsx)(u.a,{style:{width:"48px",height:"48px",borderRadius:"16px",margin:0,padding:0,minWidth:0,marginTop:"10px",color:"white",backgroundColor:"#5865F2"},disabled:a||o,onClick:()=>{s<4&&(e=>{Ie((()=>{Ce.dispatch(pe({roomId:e})),Ce.dispatch(xe(!1,!0)),ze({roomId:e})}))})(r)},children:Object(j.jsx)(xt,{username:t})})})})};const pt=Object(d.a)("div")({width:"72px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#202225"});var Ot=Object(I.b)((e=>{let{room:t}=e;return{...t}}))((e=>{let{activeRooms:t,isUserInRoom:r}=e;return Object(j.jsxs)(pt,{children:[Object(j.jsx)(jt,{}),Object(j.jsx)(ut,{isUserInRoom:r}),t.map((e=>Object(j.jsx)(gt,{roomId:e.roomId,creatorUsername:e.creatorUsername,amountOfParticipants:e.participants.length,isUserInRoom:r},e.roomId)))]})})),vt=r(129),St=r.n(vt),ft=r(128),wt=r.n(ft);const yt=Object(d.a)("div")({position:"absolute",bottom:"10px",right:"10px"});var Et=e=>{let{isRoomMinimized:t,handleRoomResize:r}=e;return Object(j.jsx)(yt,{children:Object(j.jsx)(Qe.a,{style:{color:"white"},onClick:r,children:t?Object(j.jsx)(wt.a,{}):Object(j.jsx)(St.a,{})})})};const Rt=Object(d.a)("div")({height:"50%",width:"50%",backgroundColor:"black",borderRadius:"8px"}),Ct=Object(d.a)("video")({width:"100%",height:"100%"});var kt=e=>{let{stream:t,isLocalStream:r}=e;const o=Object(s.useRef)();return Object(s.useEffect)((()=>{const e=o.current;e.srcObject=t,e.onloadedmetadata=()=>{e.play()}}),[t]),Object(j.jsx)(Rt,{children:Object(j.jsx)(Ct,{ref:o,autoPlay:!0,muted:!!r})})};const Tt=Object(d.a)("div")({height:"85%",width:"100%",display:"flex",flexWrap:"wrap"});var It=Object(I.b)((e=>{let{room:t}=e;return{...t}}))((e=>{let{localStream:t,remoteStreams:r,screenSharingStream:s}=e;return Object(j.jsxs)(Tt,{children:[Object(j.jsx)(kt,{stream:s||t,isLocalStream:!0}),r.map((e=>Object(j.jsx)(kt,{stream:e},e.id)))]})})),At=r(130),Ut=r.n(At),Mt=r(131),_t=r.n(Mt);var Lt=e=>{let{localStream:t}=e;const[r,o]=Object(s.useState)(!0);return Object(j.jsx)(Qe.a,{onClick:()=>{t.getVideoTracks()[0].enabled=!r,o(!r)},style:{color:"white"},children:r?Object(j.jsx)(Ut.a,{}):Object(j.jsx)(_t.a,{})})},Dt=r(132),Nt=r.n(Dt),Ft=r(133),Vt=r.n(Ft);var zt=e=>{let{localStream:t}=e;const[r,o]=Object(s.useState)(!0);return Object(j.jsx)(Qe.a,{onClick:()=>{t.getAudioTracks()[0].enabled=!r,o(!r)},style:{color:"white"},children:r?Object(j.jsx)(Nt.a,{}):Object(j.jsx)(Vt.a,{})})},Pt=r(134),Wt=r.n(Pt);var Jt=()=>Object(j.jsx)(Qe.a,{onClick:()=>{De()},style:{color:"white"},children:Object(j.jsx)(Wt.a,{})}),Bt=r(136),Gt=r.n(Bt),Ht=r(135),Zt=r.n(Ht);const $t={audio:!1,video:!0};var qt=e=>{let{localStream:t,screenSharingStream:r,setScreenSharingStream:s,isScreenSharingActive:o}=e;return Object(j.jsx)(Qe.a,{onClick:async()=>{if(o)_e(t),r.getTracks().forEach((e=>e.stop())),s(null);else{let t=null;try{t=await navigator.mediaDevices.getDisplayMedia($t)}catch(e){console.log("error occured when trying to get an access to screen share stream")}t&&(s(t),_e(t))}},style:{color:"white"},children:o?Object(j.jsx)(Zt.a,{}):Object(j.jsx)(Gt.a,{})})};const Yt=Object(d.a)("div")({height:"15%",width:"100%",backgroundColor:"#5865f2",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"});var Kt=Object(I.b)((e=>{let{room:t}=e;return{...t}}),(e=>({...ge(e)})))((e=>{const{localStream:t,isUserJoinedWithOnlyAudio:r}=e;return Object(j.jsxs)(Yt,{children:[!r&&Object(j.jsx)(qt,{...e}),Object(j.jsx)(zt,{localStream:t}),Object(j.jsx)(Jt,{}),!r&&Object(j.jsx)(Lt,{localStream:t})]})}));const Qt=Object(d.a)("div")({position:"absolute",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:"#202225"}),Xt={width:"100%",height:"100vh"},er={bottom:"0px",right:"0px",width:"30%",height:"40vh"};var tr=()=>{const[e,t]=Object(s.useState)(!1);return Object(j.jsxs)(Qt,{style:e?er:Xt,children:[Object(j.jsx)(It,{}),Object(j.jsx)(Kt,{}),Object(j.jsx)(Et,{isRoomMinimized:e,handleRoomResize:()=>{t(!e)}})]})};var rr=Object(I.b)((e=>{let{room:t}=e;return{...t}}),(e=>({...P(e)})))((e=>{let{setUserDetails:t,isUserInRoom:r}=e;const[o,a]=Object(s.useState)(!0);return Je(t,a),o?Object(j.jsx)(ee,{}):Object(j.jsxs)(ot,{children:[Object(j.jsx)(Ot,{}),Object(j.jsx)(st,{}),r&&Object(j.jsx)(tr,{})]})}));r(200);var sr=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(c.a,{children:Object(j.jsxs)(i.d,{children:[Object(j.jsx)(i.b,{exact:!0,path:"/login",children:Object(j.jsx)(H,{})}),Object(j.jsx)(i.b,{exact:!0,path:"/register",children:Object(j.jsx)(K,{})}),Object(j.jsx)(i.b,{exact:!0,path:"/dashboard",children:Object(j.jsx)(at,{})}),Object(j.jsx)(i.b,{exact:!0,path:"/subject",children:Object(j.jsx)(rr,{})}),Object(j.jsx)(i.b,{path:"/",children:Object(j.jsx)(i.a,{to:"/dashboard"})})]})}),Object(j.jsx)(it,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(Object(j.jsx)(I.a,{store:Ce,children:Object(j.jsx)(sr,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()}))}},[[201,1,2]]]);
//# sourceMappingURL=main.eab32655.chunk.js.map